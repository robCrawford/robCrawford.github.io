let t,e,n,o;function r(t){return t&&t.__esModule?t.default:t}function i(t,e){let n,o=e.elm,r=t.data.attrs,i=e.data.attrs;if((r||i)&&r!==i){for(n in r=r||{},i=i||{}){let t=i[n];r[n]!==t&&(!0===t?o.setAttribute(n,""):!1===t?o.removeAttribute(n):120!==n.charCodeAt(0)?o.setAttribute(n,t):58===n.charCodeAt(3)?o.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,t):58===n.charCodeAt(5)?109===n.charCodeAt(1)?o.setAttributeNS("http://www.w3.org/2000/xmlns/",n,t):o.setAttributeNS("http://www.w3.org/1999/xlink",n,t):o.setAttribute(n,t))}for(n in r)n in i||o.removeAttribute(n)}}function a(t,e){let n,o,r=e.elm,i=t.data.class,a=e.data.class;if((i||a)&&i!==a){for(o in a=a||{},i=i||{})i[o]&&!Object.prototype.hasOwnProperty.call(a,o)&&r.classList.remove(o);for(o in a)(n=a[o])!==i[o]&&r.classList[n?"add":"remove"](o)}}function s(t,e){let n,o=t.data.on,r=t.listener,i=t.elm,a=e&&e.data.on,s=e&&e.elm;if(o!==a){if(o&&r)if(a)for(n in o)a[n]||i.removeEventListener(n,r,!1);else for(n in o)i.removeEventListener(n,r,!1);if(a){let r=e.listener=t.listener||function t(e){var n;let o,r;n=t.vnode,o=e.type,(r=n.data.on)&&r[o]&&function t(e,n,o){if("function"==typeof e)e.call(n,o,n);else if("object"==typeof e)for(let r=0;r<e.length;r++)t(e[r],n,o)}(r[o],n,e)};if(r.vnode=e,o)for(n in a)o[n]||s.addEventListener(n,r,!1);else for(n in a)s.addEventListener(n,r,!1)}}}function l(t,e,n,o,r){let i=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:o,elm:r,key:i}}let c=Array.isArray;function u(t){return"string"==typeof t||"number"==typeof t||t instanceof String||t instanceof Number}function d(t){if(f(t)){for(;t&&f(t);)t=h(t).parent;return null!=t?t:null}return t.parentNode}function f(t){return 11===t.nodeType}function h(t,e){return null!=t.parent||(t.parent=null!=e?e:null),null!=t.firstChildNode||(t.firstChildNode=t.firstChild),null!=t.lastChildNode||(t.lastChildNode=t.lastChild),t}let p={createElement:function(t,e){return document.createElement(t,e)},createElementNS:function(t,e,n){return document.createElementNS(t,e,n)},createTextNode:function(t){return document.createTextNode(t)},createDocumentFragment:function(){return h(document.createDocumentFragment())},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){if(f(t)){let e=t;for(;e&&f(e);)e=h(e).parent;t=null!=e?e:t}f(e)&&(e=h(e,t)),n&&f(n)&&(n=h(n).firstChildNode),t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){f(e)&&(e=h(e,t)),t.appendChild(e)},parentNode:d,nextSibling:function(t){var e;if(f(t)){let n=h(t),o=d(n);if(o&&n.lastChildNode){let t=Array.from(o.childNodes),r=t.indexOf(n.lastChildNode);return null!=(e=t[r+1])?e:null}return null}return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},getTextContent:function(t){return t.textContent},isElement:function(t){return 1===t.nodeType},isText:function(t){return 3===t.nodeType},isComment:function(t){return 8===t.nodeType},isDocumentFragment:f},v=l("",{},[],void 0,void 0);function g(t,e){var n,o;let r=t.key===e.key,i=(null==(n=t.data)?void 0:n.is)===(null==(o=e.data)?void 0:o.is),a=t.sel===e.sel,s=!!t.sel||t.sel!==e.sel||typeof t.text==typeof e.text;return a&&r&&i&&s}let m=["create","update","remove","destroy","pre","post"];function y(t,e){let n,o,r=e.elm,i=t.data.props,a=e.data.props;if((i||a)&&i!==a)for(n in i=i||{},a=a||{})o=a[n],i[n]!==o&&("value"!==n||r[n]!==o)&&(r[n]=o)}var k,b={};Object.defineProperty(b,"__esModule",{value:!0});var w=function(t,e){return t[0]===e},S=function(t){return"string"==typeof t&&t.length>0&&(w(t,".")||w(t,"#"))},x=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];b.default=function(t){var e=function(e){return function(n){for(var o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return S(n)?t.apply(void 0,[e+n].concat(r)):void 0===n?t(e):t.apply(void 0,[e,n].concat(r))}},n={TAG_NAMES:x,isSelector:S,createTag:e};return x.forEach(function(t){n[t]=e(t)}),n},b=b.default;let O=function(t,e,n){let o={create:[],update:[],remove:[],destroy:[],pre:[],post:[]};for(let e of m)for(let n of t){let t=n[e];void 0!==t&&o[e].push(t)}function r(t,e){var n,i,a;let s,l=t.data,d=null==l?void 0:l.hook;null==(n=null==d?void 0:d.init)||n.call(d,t);let f=t.children,h=t.sel;if("!"===h)null!=t.text||(t.text=""),t.elm=p.createComment(t.text);else if(""===h)t.elm=p.createTextNode(t.text);else if(void 0!==h){let n=h.indexOf("#"),a=h.indexOf(".",n),g=n>0?n:h.length,m=a>0?a:h.length,y=-1!==n||-1!==a?h.slice(0,Math.min(g,m)):h,k=null==l?void 0:l.ns,b=void 0===k?p.createElement(y,l):p.createElementNS(k,y,l);for(t.elm=b,g<m&&b.setAttribute("id",h.slice(g+1,m)),a>0&&b.setAttribute("class",h.slice(m+1).replace(/\./g," ")),s=0;s<o.create.length;++s)o.create[s](v,t);if(u(t.text)&&(!c(f)||0===f.length)&&p.appendChild(b,p.createTextNode(t.text)),c(f))for(s=0;s<f.length;++s){let t=f[s];null!=t&&p.appendChild(b,r(t,e))}void 0!==d&&(null==(i=d.create)||i.call(d,v,t),void 0!==d.insert&&e.push(t))}else if(1)t.elm=p.createTextNode(t.text);else{for(s=0,t.elm=(null!=(a=p.createDocumentFragment)?a:function(){throw Error("The document fragment is not supported on this platform.")})();s<o.create.length;++s)o.create[s](v,t);for(s=0;s<t.children.length;++s){let n=t.children[s];null!=n&&p.appendChild(t.elm,r(n,e))}}return t.elm}function i(t,e,n,o,i,a){for(;o<=i;++o){let i=n[o];null!=i&&p.insertBefore(t,r(i,a),e)}}function a(t){var e,n;let r=t.data;if(void 0!==r){null==(n=null==(e=null==r?void 0:r.hook)?void 0:e.destroy)||n.call(e,t);for(let e=0;e<o.destroy.length;++e)o.destroy[e](t);if(void 0!==t.children)for(let e=0;e<t.children.length;++e){let n=t.children[e];null!=n&&"string"!=typeof n&&a(n)}}}function s(t,e,n,r){for(var i,l;n<=r;++n){let r,c=e[n];if(null!=c)if(void 0!==c.sel){a(c),r=o.remove.length+1;let t=function(t,e){return function(){if(0==--e){let e=p.parentNode(t);null!==e&&p.removeChild(e,t)}}}(c.elm,r);for(let e=0;e<o.remove.length;++e)o.remove[e](c,t);let e=null==(l=null==(i=null==c?void 0:c.data)?void 0:i.hook)?void 0:l.remove;void 0!==e?e(c,t):t()}else c.children?(a(c),s(t,c.children,0,c.children.length-1)):p.removeChild(t,c.elm)}}return function(t,e){var n,a,c;let u,d,f,h=[];for(u=0;u<o.pre.length;++u)o.pre[u]();if(n=t,p.isElement(n)){let e,n,o;e=(a=t).id?"#"+a.id:"",o=(n=a.getAttribute("class"))?"."+n.split(" ").join("."):"",t=l(p.tagName(a).toLowerCase()+e+o,{},[],void 0,a)}else c=t,p.isDocumentFragment(c)&&(t=l(void 0,{},[],void 0,t));for(g(t,e)?function t(e,n,a){var l,c,u,d,f,h;let v=null==(l=n.data)?void 0:l.hook;null==(c=null==v?void 0:v.prepatch)||c.call(v,e,n);let m=n.elm=e.elm;if(e===n)return;if(void 0!==n.data||void 0!==n.text&&n.text!==e.text){null!=n.data||(n.data={}),null!=e.data||(e.data={});for(let t=0;t<o.update.length;++t)o.update[t](e,n);null==(f=null==(d=null==(u=n.data)?void 0:u.hook)?void 0:d.update)||f.call(d,e,n)}let y=e.children,k=n.children;void 0===n.text?void 0!==y&&void 0!==k?y!==k&&function(e,n,o,a){let l,c,u,d=0,f=0,h=n.length-1,v=n[0],m=n[h],y=o.length-1,k=o[0],b=o[y];for(;d<=h&&f<=y;)null==v?v=n[++d]:null==m?m=n[--h]:null==k?k=o[++f]:null==b?b=o[--y]:g(v,k)?(t(v,k,a),v=n[++d],k=o[++f]):g(m,b)?(t(m,b,a),m=n[--h],b=o[--y]):g(v,b)?(t(v,b,a),p.insertBefore(e,v.elm,p.nextSibling(m.elm)),v=n[++d],b=o[--y]):g(m,k)?(t(m,k,a),p.insertBefore(e,m.elm,v.elm),m=n[--h],k=o[++f]):(void 0===l&&(l=function(t,e,n){var o;let r={};for(let i=e;i<=n;++i){let e=null==(o=t[i])?void 0:o.key;void 0!==e&&(r[e]=i)}return r}(n,d,h)),void 0===(c=l[k.key])?(p.insertBefore(e,r(k,a),v.elm),k=o[++f]):void 0===l[b.key]?(p.insertBefore(e,r(b,a),p.nextSibling(m.elm)),b=o[--y]):((u=n[c]).sel!==k.sel?p.insertBefore(e,r(k,a),v.elm):(t(u,k,a),n[c]=void 0,p.insertBefore(e,u.elm,v.elm)),k=o[++f]));f<=y&&i(e,null==o[y+1]?null:o[y+1].elm,o,f,y,a),d<=h&&s(e,n,d,h)}(m,y,k,a):void 0!==k?(void 0!==e.text&&p.setTextContent(m,""),i(m,null,k,0,k.length-1,a)):void 0!==y?s(m,y,0,y.length-1):void 0!==e.text&&p.setTextContent(m,""):e.text!==n.text&&(void 0!==y&&s(m,y,0,y.length-1),p.setTextContent(m,n.text)),null==(h=null==v?void 0:v.postpatch)||h.call(v,e,n)}(t,e,h):(d=t.elm,f=p.parentNode(d),r(e,h),null!==f&&(p.insertBefore(f,e.elm,p.nextSibling(d)),s(f,[t],0,0))),u=0;u<h.length;++u)h[u].data.hook.insert(h[u]);for(u=0;u<o.post.length;++u)o.post[u]();return e}}([{create:a,update:a},{create:i,update:i},{create:y,update:y},{create:s,update:s,destroy:s}]),_=r(b)(function(t,e,n){let o,r,i,a={};if(void 0!==n?(null!==e&&(a=e),c(n)?o=n:u(n)?r=n.toString():n&&n.sel&&(o=[n])):null!=e&&(c(e)?o=e:u(e)?r=e.toString():e&&e.sel?o=[e]:a=e),void 0!==o)for(i=0;i<o.length;++i)u(o[i])&&(o[i]=l(void 0,void 0,void 0,o[i],void 0));return t.startsWith("svg")&&(3===t.length||"."===t[3]||"#"===t[3])&&function t(e,n,o){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==o&&void 0!==n)for(let e=0;e<n.length;++e){let o=n[e];if("string"==typeof o)continue;let r=o.data;void 0!==r&&t(r,o.children,o.sel)}}(a,o,t),l(t,a,o,r,void 0)}),A="",E="undefined"!=typeof window?new URLSearchParams(window.location.search):null,C=E?.get("debug")==="console",P=null;if("undefined"!=typeof window){let t=window.__REDUX_DEVTOOLS_EXTENSION__;t&&(P=t.connect({name:"pure-ui-actions App",features:{jump:!1,skip:!1,reorder:!1,dispatch:!1,persist:!1}}))&&P.init({})}function L(){return{...window.state||{}}}let $={setStateGlobal(t,e){let n=window,o=n.state||(n.state={});null==e?delete o[t]:o[t]=e},noInitialAction(t,e){if(P&&e){let n=L();n[t]=e,P.send({type:`${t}/[Mount]`,meta:{lifecycle:!0}},n)}C&&(console.group(`%c#${t}`,"color: #69f"),e&&console.log(`${JSON.stringify(e)}`),A=t)},updateStart(t,e,n,o,r){if(P&&void 0!==r){let e=window;(e.state||(e.state={}))[t]=r;let i=L();P.send({type:`${t}/${n}`,payload:o||null},i)}if(C){A&&A===t||(console.group(`%c#${t}`,"color: #69f"),A=t),e&&console.log(`%c${JSON.stringify(e)}`,"text-decoration: line-through;");let r=`${String(n)}`;o&&(r+=` ${JSON.stringify(o)}`),console.log(`%c${r}`,"color: #f6b"),e||console.log("No change")}},updateEnd(t){C&&t&&console.log(`${JSON.stringify(t)}`)},taskPerform(t,e,n){P&&P.send({type:`${t}/[Task] ${e}/start`,meta:{isTask:!0,status:"start",isPromise:n}},L()),C&&console.log(`%cTask "${e}" perform${n?"...":"ed"}`,"color: #dd8")},taskSuccess(t,e){P&&P.send({type:`${t}/[Task] ${e}/success`,meta:{isTask:!0,status:"success"}},L()),C&&console.log(`%c
...#${t} task "${e}" success`,"color: #dd8")},taskFailure(t,e,n){P&&P.send({type:`${t}/[Task] ${e}/failure`,payload:{error:n.message},meta:{isTask:!0,status:"failure"}},L()),C&&(console.log(`%c
...#${t} task "${e}" failure`,"color: #dd8"),n&&console.error(JSON.stringify(n)))},render(t,e){if(C){console.groupEnd();let n=`\u{27F3} Render #${t}`;e&&Object.keys(e).length&&(n+=`, props: ${JSON.stringify(e,T)}`),console.log(`%c${n}`,"color: #888"),A=""}},patch(){P&&P.send({type:"[PATCH]",meta:{isPatch:!0}},L()),C&&(console.log(`%c\xbb PATCH`,"color: #888"),console.groupEnd())},manualError(t,e){throw Error(`#${t} "${e}" cannot be invoked manually`)}};function T(t,e){return"function"==typeof e?"[fn]":e}window.addEventListener("error",()=>{setTimeout(()=>{console.groupEnd(),A=""})});var N=((k={})[k.Action=0]="Action",k[k.Task=1]="Task",k);let R=new Map,j=new Map,D=new Map,F={},H=0,M=!1,B=!1;function I(t,e,n){let o=null==n?"":JSON.stringify(n);return`${t}:${e}:${o}`}function q(t,e,o,r){let i,{config:a,state:s,props:l,isRoot:c,id:u}=t,d=a.actions;if(!d||!d[e])return;let f=W(s);({state:t.state,next:i}=d[e](o,{props:l??{},state:f??{},rootState:n??{},event:r}));let h=t.state!==s;B=B||h,$.updateStart(u,h?s:void 0,e,o,t.state),c&&(n=t.state,M=h),h&&t.state&&$.updateEnd(t.state),U(t,i)}function U(t,e){var n;e?(n=e)&&!Array.isArray(n)&&n.type in N?e(F):Array.isArray(e)&&(H++,e.forEach(e=>U(t,e)),H--,V(t)):V(t)}function V(t){if(!H){if(M){let t=R.get("app");if(M=!1,t)return V(t)}else if(B||t.props!==t.prevProps){let e=!1;o||(o=t.id,e=!0);let r=t.vnode;t.vnode=t.config.view(t.id,{props:t.props??{},state:t.state??{},rootState:n??{}}),$.render(t.id,t.props),$.setStateGlobal(t.id,t.state),e&&r&&(O(r,t.vnode),$.patch(),B=!1,o=void 0,Array.from(R.values()).forEach(t=>{t.inCurrentRender=!1})),e&&X("patch"),G(t)}}return t.prevProps=t.props,t.vnode}function J(o){let r=(r,i)=>{let a=(r||"").replace(/^#/,""),s=R.get(a);if(!a.length||!H&&s&&s.inCurrentRender)throw Error(`Component${a?` "${a}" `:" "}must have a unique id!`);return s&&(s.inCurrentRender=!0),function(o,r,i){W(i);let a="app"===o,s=R.get(o)?.render;if(s){let t=s(i);if(t)return t}let l=(t,e)=>(function(t,e,n){let o=I(t,e,n),r=j.get(o);if(r)return r;let i=o=>{if(z(o)){let r=R.get(t);if(!r)throw Error(`Component ${t} not found in registry`);q(r,e,n,o)}else if(o===F){let o=R.get(t);if(!o)throw Error(`Component ${t} not found in registry`);q(o,e,n)}else $.manualError(t,e)};return i.type=N.Action,j.set(o,i),i})(o,String(t),e),c=(t,e)=>(function(t,e,o){let r=I(t,e,o),i=D.get(r);if(i)return i;let a=r=>{if(z(r)||r===F){let r=R.get(t);if(!r)throw Error(`Component ${t} not found in registry`);return(function(t,e,o){let{config:r,state:i,props:a,id:s}=t,l=r.tasks;if(!l||!l[e])throw Error(`Task ${e} not found in component ${s}`);let{perform:c,success:u,failure:d}=l[e](o),f=t=>u&&u(t,{props:a??{},state:i??{},rootState:n??{}}),h=t=>d&&d(t,{props:a??{},state:i??{},rootState:n??{}});try{let n=c();if($.taskPerform(s,String(e),function(t){return!!(t&&t.then)}(n)),function(t){return!!(t&&t.then)}(n))return V(t),n.then(t=>($.taskSuccess(s,String(e)),f(t))).catch(t=>($.taskFailure(s,String(e),t),h(t)));return $.taskSuccess(s,String(e)),Promise.resolve(f(n))}catch(t){return $.taskFailure(s,String(e),t),Promise.resolve(h(t))}})(r,e,o).then(t=>U(r,t))}$.manualError(t,e)};return a.type=N.Task,a.taskName=String(e),a.taskData=o,D.set(r,a),a})(o,String(t),e),u=r({action:l,task:c,rootAction:t,rootTask:e}),d=u.state&&u.state(i),f={id:o,config:u,state:d,props:i,prevProps:void 0,render:t=>{let e=R.get(o);if(e)return e.props=t,V(e)},vnode:void 0,isRoot:a,inCurrentRender:!0};return R.set(o,f),u.init?(H++,U(f,u.init),H--):$.noInitialAction(o,d),a&&(t=l,e=c,n=f.state),$.render(o,i),f.vnode=u.view(o,{props:i??{},state:f.state??{},rootState:n??{}}),f.prevProps=i,G(f),$.setStateGlobal(o,f.state),f.vnode}(a,o,i)};return r.getConfig=o,r}function z(t){return!!(t&&"eventPhase"in t&&"target"in t&&"type"in t)}function G(t){if(t.vnode){var e;e=t.vnode,e&&(e.data=e.data||{},e.data.hook=e.data.hook||{},e.data.hook.destroy=()=>{let e=R.get(t.id);e&&!e.inCurrentRender&&t.id!==o&&(R.delete(t.id),Array.from(j.keys()).forEach(e=>{e.startsWith(`${t.id}:`)&&j.delete(e)}),Array.from(D.keys()).forEach(e=>{e.startsWith(`${t.id}:`)&&D.delete(e)}),$.setStateGlobal(t.id,void 0))})}}function W(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{Object.prototype.hasOwnProperty.call(t,e)&&null!==t[e]&&("object"==typeof t[e]||"function"==typeof t[e])&&!Object.isFrozen(t[e])&&W(t[e])})),t}function X(t,e){document.dispatchEvent(new CustomEvent(t,e?{detail:e}:void 0))}let{div:K,button:Y}=_;var Q=J(({action:t})=>({state:()=>({show:!0}),actions:{Dismiss:(t,{props:e,state:n})=>({state:{...n,show:!1},next:e.onDismiss})},view:(e,{props:n,state:o})=>K(`#${e}.notification`,{class:{show:o.show&&n.text.length}},[n.text,Y({on:{click:t("Dismiss")}},"Dismiss")])}));let{div:Z,button:tt}=_;var te=J(({action:t,task:e})=>({state:t=>({counter:t.start,feedback:""}),init:t("Validate"),actions:{Increment:({step:e},{state:n})=>({state:{...n,counter:n.counter+e},next:t("Validate")}),Decrement:({step:e},{state:n})=>({state:{...n,counter:n.counter-e},next:t("Validate")}),Validate:(n,{state:o})=>({state:o,next:[t("SetFeedback",{text:"Validating..."}),e("ValidateCount",{count:o.counter})]}),SetFeedback:({text:t},{state:e})=>({state:t===e.feedback?e:{...e,feedback:t}})},tasks:{ValidateCount:({count:e})=>({perform:()=>new Promise(t=>{setTimeout(()=>t({text:e%2==0?"âœ“ Even":"x Odd"}),500)}),success:e=>t("SetFeedback",e),failure:()=>t("SetFeedback",{text:"Unavailable"})})},view:(e,{state:n})=>Z(`#${e}.counter`,[tt({on:{click:t("Increment",{step:1})}},"+"),Z(String(n.counter)),tt({on:{click:t("Decrement",{step:1})}},"-"),Q(`#${e}-feedback`,{text:n.feedback,onDismiss:t("SetFeedback",{text:""})})])}));let{div:tn,button:to}=_;var tr=J(({rootAction:t})=>({view:e=>tn(`#${e}`,[to({on:{click:t("SetTheme",{theme:"light"})}},"Light theme"),to({on:{click:t("SetTheme",{theme:"dark"})}},"Dark theme")])}));let{button:ti}=_;var ta=J(({action:t,rootAction:e,rootTask:n})=>({actions:{Like:(t,{props:o,state:r})=>({state:r,next:[e("Like",{page:o.page}),n("SetDocTitle",{title:"You like this!"})]})},view:(e,{props:n,rootState:o})=>ti(`#${e}.like`,{on:{click:t("Like")}},`\u{1F44D} ${o.likes[n.page]}`)}));let{div:ts,span:tl,a:tc}=_;var tu=J(({rootTask:t})=>({init:t("SetDocTitle",{title:"Counter Page"}),view:t=>ts(`#${t}`,[ts(".content",[tr("#theme-menu"),ts(".nav",[tl("counter page | "),tc({attrs:{href:"/about"+location.search,"data-navigo":!0}},"about page")]),ta("#counter-like",{page:"counterPage"})]),te("#counter-0",{start:0}),te("#counter-1",{start:-1})])}));let{div:td,span:tf,a:th}=_;var tp=J(({rootTask:t})=>({init:t("SetDocTitle",{title:"About Page"}),view:t=>td(`#${t}`,td(".content",[tr("#theme-menu"),td(".nav",[th({attrs:{href:"/counter"+location.search,"data-navigo":!0}},"counter page"),tf(" | about page")]),ta("#about-like",{page:"aboutPage"}),td(".intro","This is the about page.")]))})),tv={};"undefined"!=typeof self&&self,tv=function(){var t={407:function(t,e,n){n.d(e,{default:function(){return N}});var o=/([:*])(\w+)/g,r=/\*/g,i=/\/\?/g;function a(t){return void 0===t&&(t="/"),v()?location.pathname+location.search+location.hash:t}function s(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}function l(t){return"string"==typeof t}function c(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}function u(t){var e=s(t).split(/\?(.*)?$/);return[s(e[0]),e.slice(1).join("")]}function d(t){for(var e={},n=t.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if(""!==r[0]){var i=decodeURIComponent(r[0]);e[i]?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(decodeURIComponent(r[1]||""))):e[i]=decodeURIComponent(r[1]||"")}}return e}function f(t,e){var n,a=u(s(t.currentLocationPath)),f=a[0],h=a[1],p=""===h?null:d(h),v=[];if(l(e.path)){if(n="(?:/^|^)"+s(e.path).replace(o,function(t,e,n){return v.push(n),"([^/]+)"}).replace(r,"?(?:.*)").replace(i,"/?([^/]+|)")+"$",""===s(e.path)&&""===s(f))return{url:f,queryString:h,hashString:c(t.to),route:e,data:null,params:p}}else n=e.path;var g=RegExp(n,""),m=f.match(g);if(m){var y=l(e.path)?0===v.length?null:m?m.slice(1,m.length).reduce(function(t,e,n){return null===t&&(t={}),t[v[n]]=decodeURIComponent(e),t},null):null:m.groups?m.groups:m.slice(1);return{url:s(f.replace(RegExp("^"+t.instance.root),"")),queryString:h,hashString:c(t.to),route:e,data:y,params:p}}return!1}function h(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function p(t,e){return void 0===t[e]||!0===t[e]}function v(){return"undefined"!=typeof window}function g(t,e,n){var o=e||{},r=0;!function e(){t[r]?Array.isArray(t[r])?(t.splice.apply(t,[r,1].concat(t[r][0](o)?t[r][1]:t[r][2])),e()):t[r](o,function(t){void 0===t||!0===t?(r+=1,e()):n&&n(o)}):n&&n(o)}()}function m(t,e){void 0===t.currentLocationPath&&(t.currentLocationPath=t.to=a(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),e()}function y(t,e){for(var n=0;n<t.instance.routes.length;n++){var o=f(t,t.instance.routes[n]);if(o&&(t.matches||(t.matches=[]),t.matches.push(o),"ONE"===t.resolveOptions.strategy))return void e()}e()}function k(t,e){t.navigateOptions&&(void 0!==t.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==t.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function b(t,e){!0===t.navigateOptions.force?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),e(!1)):e()}g.if=function(t,e,n){return Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),[t,e,n]};var w=v(),S=h();function x(t,e){if(p(t.navigateOptions,"updateBrowserURL")){var n=("/"+t.to).replace(/\/\//g,"/"),o=w&&t.resolveOptions&&!0===t.resolveOptions.hash;S?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",o?"#"+n:n),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout(function(){if(!o){var e=location.hash;location.hash="",location.hash=e}t.instance.__freezeListening=!1},1))):w&&(window.location.href=t.to)}e()}function O(t,e){var n=t.instance;n.lastResolved()?g(n.lastResolved().map(function(e){return function(n,o){if(e.route.hooks&&e.route.hooks.leave){var r=!1,i=t.instance.matchLocation(e.route.path,t.currentLocationPath,!1);r="*"!==e.route.path?!i:!(t.matches&&t.matches.find(function(t){return e.route.path===t.route.path})),p(t.navigateOptions,"callHooks")&&r?g(e.route.hooks.leave.map(function(e){return function(n,o){return e(function(e){!1===e?t.instance.__markAsClean(t):o()},t.matches&&t.matches.length>0?1===t.matches.length?t.matches[0]:t.matches:void 0)}}).concat([function(){return o()}])):o()}else o()}}),{},function(){return e()}):e()}function _(t,e){p(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),e()}var A=[function(t,e){var n=t.instance.lastResolved();n&&n[0]&&n[0].route===t.match.route&&n[0].url===t.match.url&&n[0].queryString===t.match.queryString?(n.forEach(function(e){e.route.hooks&&e.route.hooks.already&&p(t.navigateOptions,"callHooks")&&e.route.hooks.already.forEach(function(e){return e(t.match)})}),e(!1)):e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.before&&p(t.navigateOptions,"callHooks")?g(t.match.route.hooks.before.map(function(e){return function(n,o){return e(function(e){!1===e?t.instance.__markAsClean(t):o()},t.match)}}).concat([function(){return e()}])):e()},function(t,e){p(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.after&&p(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach(function(e){return e(t.match)}),e()}],E=[O,function(t,e){var n=t.instance._notFoundRoute;if(n){t.notFoundHandled=!0;var o=u(t.currentLocationPath),r=o[0],i=o[1],a=c(t.to);n.path=s(r);var l={url:n.path,queryString:i,hashString:a,data:null,route:n,params:""!==i?d(i):null};t.matches=[l],t.match=l}e()},g.if(function(t){return t.notFoundHandled},A.concat([_]),[function(t,e){t.resolveOptions&&!1!==t.resolveOptions.noMatchWarning&&void 0!==t.resolveOptions.noMatchWarning||console.warn('Navigo: "'+t.currentLocationPath+"\" didn't match any of the registered routes."),e()},function(t,e){t.instance._setCurrent(null),e()}])];function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function P(t,e){var n=0;O(t,function o(){n!==t.matches.length?g(A,C({},t,{match:t.matches[n]}),function(){n+=1,o()}):_(t,e)})}function L(t){t.instance.__markAsClean(t)}function $(){return($=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var T="[data-navigo]";function N(t,e){var n,o=e||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:T},r=this,i="/",p=null,w=[],S=!1,O=h(),_=v();function A(t){return t.indexOf("#")>=0&&(t=!0===o.hash?t.split("#")[1]||"/":t.split("#")[0]),t}function C(t){return s(i+"/"+s(t))}function N(t,e,n,o){var r,i;return t=l(t)?C(t):t,{name:o||s(String(t)),path:t,handler:e,hooks:(void 0===(r=n)&&(r=[]),void 0===i&&(i={}),r.filter(function(t){return t}).forEach(function(t){["before","after","already","leave"].forEach(function(e){t[e]&&(i[e]||(i[e]=[]),i[e].push(t[e]))})}),i)}}function R(t,e){if(!r.__dirty){r.__dirty=!0;var n={instance:r,to:t=t?s(i)+"/"+s(t):void 0,currentLocationPath:t,navigateOptions:{},resolveOptions:$({},o,e)};return g([m,y,g.if(function(t){var e=t.matches;return e&&e.length>0},P,E)],n,L),!!n.matches&&n.matches}r.__waiting.push(function(){return r.resolve(t,e)})}function j(t,e){if(r.__dirty)r.__waiting.push(function(){return r.navigate(t,e)});else{r.__dirty=!0;var n={instance:r,to:t=s(i)+"/"+s(t),navigateOptions:e||{},resolveOptions:e&&e.resolveOptions?e.resolveOptions:o,currentLocationPath:A(t)};g([k,b,y,g.if(function(t){var e=t.matches;return e&&e.length>0},P,E),x,L],n,L)}}function D(){if(_)return(_?[].slice.call(document.querySelectorAll(o.linksSelector||T)):[]).forEach(function(t){"false"!==t.getAttribute("data-navigo")&&"_blank"!==t.getAttribute("target")?t.hasListenerAttached||(t.hasListenerAttached=!0,t.navigoHandler=function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var n=t.getAttribute("href");if(null==n)return!1;if(n.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var o=new URL(n);n=o.pathname+o.search}catch(t){}var i=function(t){if(!t)return{};var e,n=t.split(","),o={};return n.forEach(function(t){var n=t.split(":").map(function(t){return t.replace(/(^ +| +$)/g,"")});switch(n[0]){case"historyAPIMethod":o.historyAPIMethod=n[1];break;case"resolveOptionsStrategy":e||(e={}),e.strategy=n[1];break;case"resolveOptionsHash":e||(e={}),e.hash="true"===n[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":o[n[0]]="true"===n[1]}}),e&&(o.resolveOptions=e),o}(t.getAttribute("data-navigo-options"));S||(e.preventDefault(),e.stopPropagation(),r.navigate(s(n),i))},t.addEventListener("click",t.navigoHandler)):t.hasListenerAttached&&t.removeEventListener("click",t.navigoHandler)}),r}function F(t,e,n){var o=w.find(function(e){return e.name===t}),r=null;if(o){if(r=o.path,e)for(var a in e)r=r.replace(":"+a,e[a]);r=r.match(/^\//)?r:"/"+r}return r&&n&&!n.includeRoot&&(r=r.replace(RegExp("^/"+i),"")),r}function H(t){var e=u(s(t)),o=e[0],r=e[1],i=""===r?null:d(r);return{url:o,queryString:r,hashString:c(t),route:N(o,function(){},[n],o),data:null,params:i}}function M(t,e,n){return"string"==typeof e&&(e=B(e)),e?(e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(n),function(){e.hooks[t]=e.hooks[t].filter(function(t){return t!==n})}):(console.warn("Route doesn't exists: "+e),function(){})}function B(t){return"string"==typeof t?w.find(function(e){return e.name===C(t)}):w.find(function(e){return e.handler===t})}t?i=s(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=i,this.routes=w,this.destroyed=S,this.current=p,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=function(t){t.instance.__dirty=!1,t.instance.__waiting.length>0&&t.instance.__waiting.shift()()},this.on=function(t,e,o){var r=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(o=e,e=t,t=i),w.push(N(t,e,[n,o]))):Object.keys(t).forEach(function(e){if("function"==typeof t[e])r.on(e,t[e]);else{var o=t[e],i=o.uses,a=o.as,s=o.hooks;w.push(N(e,i,[n,s],a))}}),this},this.off=function(t){return this.routes=w=w.filter(function(e){return l(t)?s(e.path)!==s(t):"function"==typeof t?t!==e.handler:String(e.path)!==String(t)}),this},this.resolve=R,this.navigate=j,this.navigateByName=function(t,e,n){var o=F(t,e);return null!==o&&(j(o.replace(RegExp("^/?"+i),""),n),!0)},this.destroy=function(){this.routes=w=[],O&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=S=!0},this.notFound=function(t,e){return r._notFoundRoute=N("*",t,[n,e],"__NOT_FOUND__"),this},this.updatePageLinks=D,this.link=function(t){return"/"+i+"/"+s(t)},this.hooks=function(t){return n=t,this},this.extractGETParameters=function(t){return u(A(t))},this.lastResolved=function(){return p},this.generate=F,this.getLinkPath=function(t){return t.getAttribute("href")},this.match=function(t){var e={instance:r,currentLocationPath:t,to:t,navigateOptions:{},resolveOptions:o};return y(e,function(){}),!!e.matches&&e.matches},this.matchLocation=function(t,e,n){void 0!==e&&(void 0===n||n)&&(e=C(e));var o={instance:r,to:e,currentLocationPath:e};return m(o,function(){}),"string"==typeof t&&(t=void 0===n||n?C(t):t),f(o,{name:String(t),path:t,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return H(s(a(i)).replace(RegExp("^"+i),""))},this.addBeforeHook=M.bind(this,"before"),this.addAfterHook=M.bind(this,"after"),this.addAlreadyHook=M.bind(this,"already"),this.addLeaveHook=M.bind(this,"leave"),this.getRoute=B,this._pathToMatchObject=H,this._clean=s,this._checkForAHash=A,this._setCurrent=function(t){return p=r.current=t},(function(){O&&(this.__popstateListener=function(){r.__freezeListening||R()},window.addEventListener("popstate",this.__popstateListener))}).call(this),D.call(this)}}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}return n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n(407)}().default;let tg=window.location.pathname.replace(/\/[^/]*$/,"")||"/",tm=new(r(tv))(tg,{hash:!1});document.addEventListener("DOMContentLoaded",()=>(function({app:r,props:i,init:a}){R.clear(),j.clear(),D.clear(),n=void 0,o=void 0,t=void 0,e=void 0;let s=document.getElementById("app");if(!s)throw Error('Element with id "app" not found');O(s,r("app",i)),$.patch(),X("patch"),Array.from(R.values()).forEach(t=>{t.inCurrentRender=!1}),a&&a((e,n)=>{t?.(e,n)(F)})})({app:tk,props:{},init:t=>{let e=()=>t("SetPage",{page:"counterPage"});tm.on({about:()=>t("SetPage",{page:"aboutPage"}),counter:e,"*":e}).resolve(),document.addEventListener("patch",()=>{tm.updatePageLinks()})}}));let{div:ty}=_;var tk=J(()=>({state:()=>({theme:"dark",page:void 0,likes:{counterPage:0,aboutPage:0}}),actions:{SetPage:({page:t},{state:e})=>({state:t===e.page?e:{...e,page:t}}),SetTheme:({theme:t},{state:e})=>({state:t===e.theme?e:{...e,theme:t}}),Like:({page:t},{state:e})=>({state:{...e,likes:{...e.likes,[t]:e.likes[t]+1}}})},tasks:{SetDocTitle:({title:t})=>({perform:()=>{document.title=t}})},view:(t,{state:e})=>ty(`#${t}.page.${e.theme}`,(()=>{switch(e.page){case"aboutPage":return tp("#about-page");case"counterPage":return tu("#counter-page")}})())}));
//# sourceMappingURL=spa.997eaaee.js.map
