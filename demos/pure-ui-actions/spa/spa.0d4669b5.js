let t,e,n,o,r,i;function a(t){return t&&t.__esModule?t.default:t}function s(t,e){let n,o=e.elm,r=t.data.attrs,i=e.data.attrs;if((r||i)&&r!==i){for(n in r=r||{},i=i||{}){let t=i[n];r[n]!==t&&(!0===t?o.setAttribute(n,""):!1===t?o.removeAttribute(n):120!==n.charCodeAt(0)?o.setAttribute(n,t):58===n.charCodeAt(3)?o.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,t):58===n.charCodeAt(5)?109===n.charCodeAt(1)?o.setAttributeNS("http://www.w3.org/2000/xmlns/",n,t):o.setAttributeNS("http://www.w3.org/1999/xlink",n,t):o.setAttribute(n,t))}for(n in r)n in i||o.removeAttribute(n)}}function l(t,e){let n,o,r=e.elm,i=t.data.class,a=e.data.class;if((i||a)&&i!==a){for(o in a=a||{},i=i||{})i[o]&&!Object.prototype.hasOwnProperty.call(a,o)&&r.classList.remove(o);for(o in a)(n=a[o])!==i[o]&&r.classList[n?"add":"remove"](o)}}function c(t,e){let n,o=t.data.on,r=t.listener,i=t.elm,a=e&&e.data.on,s=e&&e.elm;if(o!==a){if(o&&r)if(a)for(n in o)a[n]||i.removeEventListener(n,r,!1);else for(n in o)i.removeEventListener(n,r,!1);if(a){let r=e.listener=t.listener||function t(e){var n;let o,r;n=t.vnode,o=e.type,(r=n.data.on)&&r[o]&&function t(e,n,o){if("function"==typeof e)e.call(n,o,n);else if("object"==typeof e)for(let r=0;r<e.length;r++)t(e[r],n,o)}(r[o],n,e)};if(r.vnode=e,o)for(n in a)o[n]||s.addEventListener(n,r,!1);else for(n in a)s.addEventListener(n,r,!1)}}}function u(t,e,n,o,r){let i=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:o,elm:r,key:i}}let d=Array.isArray;function f(t){return"string"==typeof t||"number"==typeof t||t instanceof String||t instanceof Number}function h(t,e,n){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==e)for(let t=0;t<e.length;++t){let n=e[t];if("string"==typeof n)continue;let o=n.data;void 0!==o&&h(o,n.children,n.sel)}}function p(t,e,n){let o,r,i,a={};if(void 0!==n?(null!==e&&(a=e),d(n)?o=n:f(n)?r=n.toString():n&&n.sel&&(o=[n])):null!=e&&(d(e)?o=e:f(e)?r=e.toString():e&&e.sel?o=[e]:a=e),void 0!==o)for(i=0;i<o.length;++i)f(o[i])&&(o[i]=u(void 0,void 0,void 0,o[i],void 0));return t.startsWith("svg")&&(3===t.length||"."===t[3]||"#"===t[3])&&h(a,o,t),u(t,a,o,r,void 0)}function g(t){if(v(t)){for(;t&&v(t);)t=m(t).parent;return null!=t?t:null}return t.parentNode}function v(t){return 11===t.nodeType}function m(t,e){return null!=t.parent||(t.parent=null!=e?e:null),null!=t.firstChildNode||(t.firstChildNode=t.firstChild),null!=t.lastChildNode||(t.lastChildNode=t.lastChild),t}let y={createElement:function(t,e){return document.createElement(t,e)},createElementNS:function(t,e,n){return document.createElementNS(t,e,n)},createTextNode:function(t){return document.createTextNode(t)},createDocumentFragment:function(){return m(document.createDocumentFragment())},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){if(v(t)){let e=t;for(;e&&v(e);)e=m(e).parent;t=null!=e?e:t}v(e)&&(e=m(e,t)),n&&v(n)&&(n=m(n).firstChildNode),t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){v(e)&&(e=m(e,t)),t.appendChild(e)},parentNode:g,nextSibling:function(t){var e;if(v(t)){let n=m(t),o=g(n);if(o&&n.lastChildNode){let t=Array.from(o.childNodes),r=t.indexOf(n.lastChildNode);return null!=(e=t[r+1])?e:null}return null}return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},getTextContent:function(t){return t.textContent},isElement:function(t){return 1===t.nodeType},isText:function(t){return 3===t.nodeType},isComment:function(t){return 8===t.nodeType},isDocumentFragment:v},k=u("",{},[],void 0,void 0);function w(t,e){var n,o;let r=t.key===e.key,i=(null==(n=t.data)?void 0:n.is)===(null==(o=e.data)?void 0:o.is),a=t.sel===e.sel,s=!!t.sel||t.sel!==e.sel||typeof t.text==typeof e.text;return a&&r&&i&&s}let b=["create","update","remove","destroy","pre","post"];function S(t,e){let n,o,r=e.elm,i=t.data.props,a=e.data.props;if((i||a)&&i!==a)for(n in i=i||{},a=a||{})o=a[n],i[n]!==o&&("value"!==n||r[n]!==o)&&(r[n]=o)}function x(t,e){var n;let o=null==(n=e.data)?void 0:n.ns;t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm,o&&h(e.data,e.children,e.sel)}function O(t){let e=t.data;x(e.fn(...e.args),t)}function _(t,e){let n,o=t.data,r=e.data,i=o.args,a=r.args;if(o.fn!==r.fn||i.length!==a.length)return void x(r.fn(...a),e);for(n=0;n<a.length;++n)if(i[n]!==a[n])return void x(r.fn(...a),e);x(t,e)}var A,C={};Object.defineProperty(C,"__esModule",{value:!0});var E=function(t,e){return t[0]===e},L=function(t){return"string"==typeof t&&t.length>0&&(E(t,".")||E(t,"#"))},P=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];C.default=function(t){var e=function(e){return function(n){for(var o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return L(n)?t.apply(void 0,[e+n].concat(r)):void 0===n?t(e):t.apply(void 0,[e,n].concat(r))}},n={TAG_NAMES:P,isSelector:L,createTag:e};return P.forEach(function(t){n[t]=e(t)}),n},C=C.default;let T=function(t,e,n){let o={create:[],update:[],remove:[],destroy:[],pre:[],post:[]};for(let e of b)for(let n of t){let t=n[e];void 0!==t&&o[e].push(t)}function r(t,e){var n,i,a;let s,l=t.data,c=null==l?void 0:l.hook;null==(n=null==c?void 0:c.init)||n.call(c,t);let u=t.children,h=t.sel;if("!"===h)null!=t.text||(t.text=""),t.elm=y.createComment(t.text);else if(""===h)t.elm=y.createTextNode(t.text);else if(void 0!==h){let n=h.indexOf("#"),a=h.indexOf(".",n),p=n>0?n:h.length,g=a>0?a:h.length,v=-1!==n||-1!==a?h.slice(0,Math.min(p,g)):h,m=null==l?void 0:l.ns,w=void 0===m?y.createElement(v,l):y.createElementNS(m,v,l);for(t.elm=w,p<g&&w.setAttribute("id",h.slice(p+1,g)),a>0&&w.setAttribute("class",h.slice(g+1).replace(/\./g," ")),s=0;s<o.create.length;++s)o.create[s](k,t);if(f(t.text)&&(!d(u)||0===u.length)&&y.appendChild(w,y.createTextNode(t.text)),d(u))for(s=0;s<u.length;++s){let t=u[s];null!=t&&y.appendChild(w,r(t,e))}void 0!==c&&(null==(i=c.create)||i.call(c,k,t),void 0!==c.insert&&e.push(t))}else if(1)t.elm=y.createTextNode(t.text);else{for(s=0,t.elm=(null!=(a=y.createDocumentFragment)?a:function(){throw Error("The document fragment is not supported on this platform.")})();s<o.create.length;++s)o.create[s](k,t);for(s=0;s<t.children.length;++s){let n=t.children[s];null!=n&&y.appendChild(t.elm,r(n,e))}}return t.elm}function i(t,e,n,o,i,a){for(;o<=i;++o){let i=n[o];null!=i&&y.insertBefore(t,r(i,a),e)}}function a(t){var e,n;let r=t.data;if(void 0!==r){null==(n=null==(e=null==r?void 0:r.hook)?void 0:e.destroy)||n.call(e,t);for(let e=0;e<o.destroy.length;++e)o.destroy[e](t);if(void 0!==t.children)for(let e=0;e<t.children.length;++e){let n=t.children[e];null!=n&&"string"!=typeof n&&a(n)}}}function s(t,e,n,r){for(var i,l;n<=r;++n){let r,c=e[n];if(null!=c)if(void 0!==c.sel){a(c),r=o.remove.length+1;let t=function(t,e){return function(){if(0==--e){let e=y.parentNode(t);null!==e&&y.removeChild(e,t)}}}(c.elm,r);for(let e=0;e<o.remove.length;++e)o.remove[e](c,t);let e=null==(l=null==(i=null==c?void 0:c.data)?void 0:i.hook)?void 0:l.remove;void 0!==e?e(c,t):t()}else c.children?(a(c),s(t,c.children,0,c.children.length-1)):y.removeChild(t,c.elm)}}return function(t,e){var n,a,l;let c,d,f,h=[];for(c=0;c<o.pre.length;++c)o.pre[c]();if(n=t,y.isElement(n)){let e,n,o;e=(a=t).id?"#"+a.id:"",o=(n=a.getAttribute("class"))?"."+n.split(" ").join("."):"",t=u(y.tagName(a).toLowerCase()+e+o,{},[],void 0,a)}else l=t,y.isDocumentFragment(l)&&(t=u(void 0,{},[],void 0,t));for(w(t,e)?function t(e,n,a){var l,c,u,d,f,h;let p=null==(l=n.data)?void 0:l.hook;null==(c=null==p?void 0:p.prepatch)||c.call(p,e,n);let g=n.elm=e.elm;if(e===n)return;if(void 0!==n.data||void 0!==n.text&&n.text!==e.text){null!=n.data||(n.data={}),null!=e.data||(e.data={});for(let t=0;t<o.update.length;++t)o.update[t](e,n);null==(f=null==(d=null==(u=n.data)?void 0:u.hook)?void 0:d.update)||f.call(d,e,n)}let v=e.children,m=n.children;void 0===n.text?void 0!==v&&void 0!==m?v!==m&&function(e,n,o,a){let l,c,u,d=0,f=0,h=n.length-1,p=n[0],g=n[h],v=o.length-1,m=o[0],k=o[v];for(;d<=h&&f<=v;)null==p?p=n[++d]:null==g?g=n[--h]:null==m?m=o[++f]:null==k?k=o[--v]:w(p,m)?(t(p,m,a),p=n[++d],m=o[++f]):w(g,k)?(t(g,k,a),g=n[--h],k=o[--v]):w(p,k)?(t(p,k,a),y.insertBefore(e,p.elm,y.nextSibling(g.elm)),p=n[++d],k=o[--v]):w(g,m)?(t(g,m,a),y.insertBefore(e,g.elm,p.elm),g=n[--h],m=o[++f]):(void 0===l&&(l=function(t,e,n){var o;let r={};for(let i=e;i<=n;++i){let e=null==(o=t[i])?void 0:o.key;void 0!==e&&(r[e]=i)}return r}(n,d,h)),void 0===(c=l[m.key])?(y.insertBefore(e,r(m,a),p.elm),m=o[++f]):void 0===l[k.key]?(y.insertBefore(e,r(k,a),y.nextSibling(g.elm)),k=o[--v]):((u=n[c]).sel!==m.sel?y.insertBefore(e,r(m,a),p.elm):(t(u,m,a),n[c]=void 0,y.insertBefore(e,u.elm,p.elm)),m=o[++f]));f<=v&&i(e,null==o[v+1]?null:o[v+1].elm,o,f,v,a),d<=h&&s(e,n,d,h)}(g,v,m,a):void 0!==m?(void 0!==e.text&&y.setTextContent(g,""),i(g,null,m,0,m.length-1,a)):void 0!==v?s(g,v,0,v.length-1):void 0!==e.text&&y.setTextContent(g,""):e.text!==n.text&&(void 0!==v&&s(g,v,0,v.length-1),y.setTextContent(g,n.text)),null==(h=null==p?void 0:p.postpatch)||h.call(p,e,n)}(t,e,h):(d=t.elm,f=y.parentNode(d),r(e,h),null!==f&&(y.insertBefore(f,e.elm,y.nextSibling(d)),s(f,[t],0,0))),c=0;c<h.length;++c)h[c].data.hook.insert(h[c]);for(c=0;c<o.post.length;++c)o.post[c]();return e}}([{create:l,update:l},{create:s,update:s},{create:S,update:S},{create:c,update:c,destroy:c}]),$=a(C)(p),N="",R="undefined"!=typeof window?new URLSearchParams(window.location.search):null,D=R?.get("debug")==="console",F=null;if("undefined"!=typeof window){let t=window.__REDUX_DEVTOOLS_EXTENSION__;t&&(F=t.connect({name:"pure-ui-actions App",features:{jump:!1,skip:!1,reorder:!1,dispatch:!1,persist:!1}}))&&F.init({})}function j(){return{...window.state||{}}}let I={setStateGlobal(t,e){let n=window,o=n.state||(n.state={});null==e?delete o[t]:o[t]=e},noInitialAction(t,e){if(F&&e){let n=j();n[t]=e,F.send({type:`${t}/[Mount]`,meta:{lifecycle:!0}},n)}D&&(console.group(`%c#${t}`,"color: #69f"),e&&console.log(`${JSON.stringify(e)}`),N=t)},updateStart(t,e,n,o,r){if(F&&void 0!==r){let e=window;(e.state||(e.state={}))[t]=r;let i=j();F.send({type:`${t}/${n}`,payload:o||null},i)}if(D){N&&N===t||(console.group(`%c#${t}`,"color: #69f"),N=t),e&&console.log(`%c${JSON.stringify(e)}`,"text-decoration: line-through;");let r=`${String(n)}`;o&&(r+=` ${JSON.stringify(o)}`),console.log(`%c${r}`,"color: #f6b"),e||console.log("No change")}},updateEnd(t){D&&t&&console.log(`${JSON.stringify(t)}`)},taskPerform(t,e,n){F&&F.send({type:`${t}/[Task] ${e}/start`,meta:{isTask:!0,status:"start",isPromise:n}},j()),D&&console.log(`%cTask "${e}" perform${n?"...":"ed"}`,"color: #dd8")},taskSuccess(t,e){F&&F.send({type:`${t}/[Task] ${e}/success`,meta:{isTask:!0,status:"success"}},j()),D&&console.log(`%c
...#${t} task "${e}" success`,"color: #dd8")},taskFailure(t,e,n){F&&F.send({type:`${t}/[Task] ${e}/failure`,payload:{error:n&&"object"==typeof n&&"message"in n?n.message:String(n)},meta:{isTask:!0,status:"failure"}},j()),D&&(console.log(`%c
...#${t} task "${e}" failure`,"color: #dd8"),n&&console.error(JSON.stringify(n)))},render(t,e){if(D){console.groupEnd();let n=`\u{27F3} Render #${t}`;e&&Object.keys(e).length&&(n+=`, props: ${JSON.stringify(e,H)}`),console.log(`%c${n}`,"color: #888"),N=""}},patch(){F&&F.send({type:"[PATCH]",meta:{isPatch:!0}},j()),D&&(console.log(`%c\xbb PATCH`,"color: #888"),console.groupEnd())},manualError(t,e){throw Error(`#${t} "${e}" cannot be invoked manually`)}};function H(t,e){return"function"==typeof e?"[fn]":e}window.addEventListener("error",()=>{setTimeout(()=>{console.groupEnd(),N=""})});var M=((A={})[A.Action=0]="Action",A[A.Task=1]="Task",A);let B=new Map,U=new Map,q=new Map,V=!1,J=!1,z=0,G={};function W(t,e,n){let o=null==n?"":JSON.stringify(n);return`${t}:${e}:${o}`}function X(t,e,o,r){let i,{config:a,state:s,props:l,isRoot:c,id:u}=t,d=a.actions;if(!d||!d[e])return;let f=te(s);({state:t.state,next:i}=d[e](o,{props:l??{},state:f??{},rootState:n??{},event:r}));let h=t.state!==s;J=J||h,I.updateStart(u,h?s:void 0,e,o,t.state),c&&(n=t.state),h&&t.state&&I.updateEnd(t.state),K(t,i)}function K(t,e){var n;e?(n=e)&&!Array.isArray(n)&&n.type in M?e(G):Array.isArray(e)&&(z++,e.forEach(e=>K(t,e)),z--,Y(t)):Y(t)}function Y(t){if(!z&&(J||t.props!==t.prevProps)){let e=!1;if(!V){let n=B.get("app");if(n&&!t.isRoot)return Y(n);V=!0,e=!0}t.inCurrentRender=!0;let o=t.vnode;t.vnode=t.config.view(t.id,{props:t.props??{},state:t.state??{},rootState:n??{}}),I.render(t.id,t.props),I.setStateGlobal(t.id,t.state),e&&o&&(T(o,t.vnode),I.patch(),tn("patch"),J=!1,V=!1,Array.from(B.values()).forEach(t=>{t.inCurrentRender=!1})),Z(t)}return t.prevProps=t.props,t.vnode}function Q(o){let r=(r,i)=>{let a=(r||"").replace(/^#/,""),s=B.get(a);if(!a.length||!z&&s&&s.inCurrentRender)throw Error(`Component${a?` "${a}" `:" "}must have a unique id!`);return s&&(s.inCurrentRender=!0),function(o,r,i){te(i);let a="app"===o,s=B.get(o)?.render;if(s){let t=s(i);if(t)return t}let l=(t,e)=>(function(t,e,n){let o=W(t,e,n),r=U.get(o);if(r)return r;let i=o=>{if(tt(o)){let r=B.get(t);if(!r)throw Error(`Component ${t} not found in registry`);X(r,e,n,o)}else if(o===G){let o=B.get(t);if(!o)throw Error(`Component ${t} not found in registry`);X(o,e,n)}else I.manualError(t,e)};return i.type=M.Action,U.set(o,i),i})(o,String(t),e),c=(t,e)=>(function(t,e,o){let r=W(t,e,o),i=q.get(r);if(i)return i;let a=r=>{if(tt(r)||r===G){let r=B.get(t);if(!r)throw Error(`Component ${t} not found in registry`);return(function(t,e,o){let{config:r,state:i,props:a,id:s}=t,l=r.tasks;if(!l||!l[e])throw Error(`Task ${e} not found in component ${s}`);let{perform:c,success:u,failure:d}=l[e](o),f=t=>u&&u(t,{props:a??{},state:i??{},rootState:n??{}}),h=t=>d&&d(t,{props:a??{},state:i??{},rootState:n??{}});try{let n=c();if(I.taskPerform(s,String(e),function(t){return!!(t&&t.then)}(n)),function(t){return!!(t&&t.then)}(n))return Y(t),n.then(t=>(I.taskSuccess(s,String(e)),f(t))).catch(t=>(I.taskFailure(s,String(e),t),h(t)));return I.taskSuccess(s,String(e)),Promise.resolve(f(n))}catch(t){return I.taskFailure(s,String(e),t),Promise.resolve(h(t))}})(r,e,o).then(t=>K(r,t))}I.manualError(t,e)};return a.type=M.Task,a.taskName=String(e),a.taskData=o,q.set(r,a),a})(o,String(t),e),u=r({action:l,task:c,rootAction:t,rootTask:e}),d=u.state&&u.state(i),f={id:o,config:u,state:d,props:i,prevProps:void 0,render:t=>{let e=B.get(o);if(e)return e.props=t,Y(e)},vnode:void 0,isRoot:a,inCurrentRender:!0};return B.set(o,f),u.init?(z++,K(f,u.init),z--):I.noInitialAction(o,d),a&&(t=l,e=c,n=f.state),I.render(o,i),f.vnode=u.view(o,{props:i??{},state:f.state??{},rootState:n??{}}),f.prevProps=i,Z(f),I.setStateGlobal(o,f.state),f.vnode}(a,o,i)};return r.getConfig=o,r}function Z(t){if(t.vnode){var e;e=t.vnode,e&&(e.data=e.data||{},e.data.hook=e.data.hook||{},e.data.hook.destroy=()=>{let e=B.get(t.id);e&&!e.inCurrentRender&&(B.delete(t.id),Array.from(U.keys()).forEach(e=>{e.startsWith(`${t.id}:`)&&U.delete(e)}),Array.from(q.keys()).forEach(e=>{e.startsWith(`${t.id}:`)&&q.delete(e)}),I.setStateGlobal(t.id,void 0))})}}function tt(t){return!!(t&&"eventPhase"in t&&"target"in t&&"type"in t)}function te(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{Object.prototype.hasOwnProperty.call(t,e)&&null!==t[e]&&("object"==typeof t[e]||"function"==typeof t[e])&&!Object.isFrozen(t[e])&&te(t[e])})),t}function tn(t,e){document.dispatchEvent(new CustomEvent(t,e?{detail:e}:void 0))}let{div:to,button:tr}=$;var ti=Q(({action:t})=>({state:()=>({show:!0}),actions:{Dismiss:(t,{props:e,state:n})=>({state:{...n,show:!1},next:e.onDismiss})},view:(e,{props:n,state:o})=>to(`#${e}.notification`,{class:{show:o.show&&n.text.length}},[n.text,tr({on:{click:t("Dismiss")}},"Dismiss")])}));let{div:ta,button:ts}=$;var tl=Q(({action:t,task:e})=>({state:t=>({counter:t.start,feedback:""}),init:t("Validate"),actions:{Increment:({step:e},{state:n})=>({state:{...n,counter:n.counter+e},next:t("Validate")}),Decrement:({step:e},{state:n})=>({state:{...n,counter:n.counter-e},next:t("Validate")}),Validate:(n,{state:o})=>({state:o,next:[t("SetFeedback",{text:"Validating..."}),e("ValidateCount",{count:o.counter})]}),SetFeedback:({text:t},{state:e})=>({state:t===e.feedback?e:{...e,feedback:t}})},tasks:{ValidateCount:({count:e})=>({perform:()=>new Promise(t=>{setTimeout(()=>t({text:e%2==0?"✓ Even":"x Odd"}),500)}),success:e=>t("SetFeedback",e),failure:()=>t("SetFeedback",{text:"Unavailable"})})},view:(e,{state:n})=>ta(`#${e}.counter`,[ts({on:{click:t("Increment",{step:1})}},"+"),ta(String(n.counter)),ts({on:{click:t("Decrement",{step:1})}},"-"),ti(`#${e}-feedback`,{text:n.feedback,onDismiss:t("SetFeedback",{text:""})})])}));let{div:tc,button:tu}=$;var td=Q(({rootAction:t})=>({view:e=>tc(`#${e}`,[tu({on:{click:t("SetTheme",{theme:"light"})}},"Light theme"),tu({on:{click:t("SetTheme",{theme:"dark"})}},"Dark theme")])}));let{button:tf}=$;var th=Q(({action:t,rootAction:e,rootTask:n})=>({actions:{Like:(t,{props:o,state:r})=>({state:r,next:[e("Like",{page:o.page}),n("SetDocTitle",{title:"You like this!"})]})},view:(e,{props:n,rootState:o})=>tf(`#${e}.like`,{on:{click:t("Like")}},`\u{1F44D} ${o.likes[n.page]}`)}));let{div:tp,span:tg,a:tv}=$;var tm=Q(({rootTask:t})=>({init:t("SetDocTitle",{title:"Counter Page"}),view:t=>tp(`#${t}`,[tp(".content",[td("#theme-menu"),tp(".nav",[tg("counter page | "),tv({attrs:{href:"/list"+location.search,"data-navigo":!0}},"list page")]),th("#counter-like",{page:"counterPage"})]),tl("#counter-0",{start:0}),tl("#counter-1",{start:-1})])}));let{div:ty,input:tk,ul:tw,li:tb,button:tS}=$,tx=(r=(o=new Date).getFullYear(),Array.from({length:new Date(r,(i=o.getMonth())+1,0).getDate()},(t,e)=>{let n=new Date(r,i,e+1);return{id:n.toISOString().split("T")[0],label:n.toLocaleDateString("en-US",{weekday:"long",day:"numeric"})}})),tO=t=>t.trim()?tx.filter(e=>e.label.toLowerCase().includes(t.toLowerCase().trim())):tx,t_=(t,e,n)=>tw(".dates-list",{on:{click:n}},tO(t).map(t=>tb({key:t.id,attrs:{"data-id":t.id},class:{selected:e===t.id}},t.label)));var tA=Q(({action:t})=>({state:()=>({filterText:"",selectedDate:null,showInfo:!0}),actions:{SetFilter:(t,{state:e,event:n})=>({state:{...e,filterText:n?.target?.value??""}}),SelectDate:(t,{state:e,event:n})=>{let o=n?.target?.closest("[data-id]")?.getAttribute("data-id");return o&&o!==e.selectedDate?{state:{...e,selectedDate:o}}:{state:e}},ToggleInfo:(t,{state:e})=>({state:{...e,showInfo:!e.showInfo}})},view(e,{state:n}){let o=tO(n.filterText);return ty(`#${e}.dates-picker`,[ty(".ui-row",[tk(`#${e}-filter`,{props:{type:"text",value:n.filterText,placeholder:"Filter by day or date..."},on:{input:t("SetFilter")}})]),ty(".ui-row",[tS(".help-toggle",{on:{click:t("ToggleInfo")}},"ⓘ"),n.showInfo?ty(".dates-info",`Showing ${o.length} of ${tx.length} days`):null]),p("ul.dates-list",{key:"dates-list",hook:{init:O,prepatch:_},fn:t_,args:[n.filterText,n.selectedDate,t("SelectDate")]})])}}));let{div:tC,span:tE,a:tL}=$;var tP=Q(({rootTask:t})=>({init:t("SetDocTitle",{title:"List Page"}),view:t=>tC(`#${t}`,tC(".content",[td("#theme-menu"),tC(".nav",[tL({attrs:{href:"/counter"+location.search,"data-navigo":!0}},"counter page"),tE(" | list page")]),th("#list-like",{page:"listPage"}),tA("#dates-list")]))}));"undefined"!=typeof self&&self;let tT=new(a(function(){var t={407:function(t,e,n){n.d(e,{default:function(){return N}});var o=/([:*])(\w+)/g,r=/\*/g,i=/\/\?/g;function a(t){return void 0===t&&(t="/"),g()?location.pathname+location.search+location.hash:t}function s(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}function l(t){return"string"==typeof t}function c(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}function u(t){var e=s(t).split(/\?(.*)?$/);return[s(e[0]),e.slice(1).join("")]}function d(t){for(var e={},n=t.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if(""!==r[0]){var i=decodeURIComponent(r[0]);e[i]?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(decodeURIComponent(r[1]||""))):e[i]=decodeURIComponent(r[1]||"")}}return e}function f(t,e){var n,a=u(s(t.currentLocationPath)),f=a[0],h=a[1],p=""===h?null:d(h),g=[];if(l(e.path)){if(n="(?:/^|^)"+s(e.path).replace(o,function(t,e,n){return g.push(n),"([^/]+)"}).replace(r,"?(?:.*)").replace(i,"/?([^/]+|)")+"$",""===s(e.path)&&""===s(f))return{url:f,queryString:h,hashString:c(t.to),route:e,data:null,params:p}}else n=e.path;var v=RegExp(n,""),m=f.match(v);if(m){var y=l(e.path)?0===g.length?null:m?m.slice(1,m.length).reduce(function(t,e,n){return null===t&&(t={}),t[g[n]]=decodeURIComponent(e),t},null):null:m.groups?m.groups:m.slice(1);return{url:s(f.replace(RegExp("^"+t.instance.root),"")),queryString:h,hashString:c(t.to),route:e,data:y,params:p}}return!1}function h(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function p(t,e){return void 0===t[e]||!0===t[e]}function g(){return"undefined"!=typeof window}function v(t,e,n){var o=e||{},r=0;!function e(){t[r]?Array.isArray(t[r])?(t.splice.apply(t,[r,1].concat(t[r][0](o)?t[r][1]:t[r][2])),e()):t[r](o,function(t){void 0===t||!0===t?(r+=1,e()):n&&n(o)}):n&&n(o)}()}function m(t,e){void 0===t.currentLocationPath&&(t.currentLocationPath=t.to=a(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),e()}function y(t,e){for(var n=0;n<t.instance.routes.length;n++){var o=f(t,t.instance.routes[n]);if(o&&(t.matches||(t.matches=[]),t.matches.push(o),"ONE"===t.resolveOptions.strategy))return void e()}e()}function k(t,e){t.navigateOptions&&(void 0!==t.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==t.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function w(t,e){!0===t.navigateOptions.force?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),e(!1)):e()}v.if=function(t,e,n){return Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),[t,e,n]};var b=g(),S=h();function x(t,e){if(p(t.navigateOptions,"updateBrowserURL")){var n=("/"+t.to).replace(/\/\//g,"/"),o=b&&t.resolveOptions&&!0===t.resolveOptions.hash;S?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",o?"#"+n:n),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout(function(){if(!o){var e=location.hash;location.hash="",location.hash=e}t.instance.__freezeListening=!1},1))):b&&(window.location.href=t.to)}e()}function O(t,e){var n=t.instance;n.lastResolved()?v(n.lastResolved().map(function(e){return function(n,o){if(e.route.hooks&&e.route.hooks.leave){var r=!1,i=t.instance.matchLocation(e.route.path,t.currentLocationPath,!1);r="*"!==e.route.path?!i:!(t.matches&&t.matches.find(function(t){return e.route.path===t.route.path})),p(t.navigateOptions,"callHooks")&&r?v(e.route.hooks.leave.map(function(e){return function(n,o){return e(function(e){!1===e?t.instance.__markAsClean(t):o()},t.matches&&t.matches.length>0?1===t.matches.length?t.matches[0]:t.matches:void 0)}}).concat([function(){return o()}])):o()}else o()}}),{},function(){return e()}):e()}function _(t,e){p(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),e()}var A=[function(t,e){var n=t.instance.lastResolved();n&&n[0]&&n[0].route===t.match.route&&n[0].url===t.match.url&&n[0].queryString===t.match.queryString?(n.forEach(function(e){e.route.hooks&&e.route.hooks.already&&p(t.navigateOptions,"callHooks")&&e.route.hooks.already.forEach(function(e){return e(t.match)})}),e(!1)):e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.before&&p(t.navigateOptions,"callHooks")?v(t.match.route.hooks.before.map(function(e){return function(n,o){return e(function(e){!1===e?t.instance.__markAsClean(t):o()},t.match)}}).concat([function(){return e()}])):e()},function(t,e){p(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.after&&p(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach(function(e){return e(t.match)}),e()}],C=[O,function(t,e){var n=t.instance._notFoundRoute;if(n){t.notFoundHandled=!0;var o=u(t.currentLocationPath),r=o[0],i=o[1],a=c(t.to);n.path=s(r);var l={url:n.path,queryString:i,hashString:a,data:null,route:n,params:""!==i?d(i):null};t.matches=[l],t.match=l}e()},v.if(function(t){return t.notFoundHandled},A.concat([_]),[function(t,e){t.resolveOptions&&!1!==t.resolveOptions.noMatchWarning&&void 0!==t.resolveOptions.noMatchWarning||console.warn('Navigo: "'+t.currentLocationPath+"\" didn't match any of the registered routes."),e()},function(t,e){t.instance._setCurrent(null),e()}])];function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function L(t,e){var n=0;O(t,function o(){n!==t.matches.length?v(A,E({},t,{match:t.matches[n]}),function(){n+=1,o()}):_(t,e)})}function P(t){t.instance.__markAsClean(t)}function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var $="[data-navigo]";function N(t,e){var n,o=e||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:$},r=this,i="/",p=null,b=[],S=!1,O=h(),_=g();function A(t){return t.indexOf("#")>=0&&(t=!0===o.hash?t.split("#")[1]||"/":t.split("#")[0]),t}function E(t){return s(i+"/"+s(t))}function N(t,e,n,o){var r,i;return t=l(t)?E(t):t,{name:o||s(String(t)),path:t,handler:e,hooks:(void 0===(r=n)&&(r=[]),void 0===i&&(i={}),r.filter(function(t){return t}).forEach(function(t){["before","after","already","leave"].forEach(function(e){t[e]&&(i[e]||(i[e]=[]),i[e].push(t[e]))})}),i)}}function R(t,e){if(!r.__dirty){r.__dirty=!0;var n={instance:r,to:t=t?s(i)+"/"+s(t):void 0,currentLocationPath:t,navigateOptions:{},resolveOptions:T({},o,e)};return v([m,y,v.if(function(t){var e=t.matches;return e&&e.length>0},L,C)],n,P),!!n.matches&&n.matches}r.__waiting.push(function(){return r.resolve(t,e)})}function D(t,e){if(r.__dirty)r.__waiting.push(function(){return r.navigate(t,e)});else{r.__dirty=!0;var n={instance:r,to:t=s(i)+"/"+s(t),navigateOptions:e||{},resolveOptions:e&&e.resolveOptions?e.resolveOptions:o,currentLocationPath:A(t)};v([k,w,y,v.if(function(t){var e=t.matches;return e&&e.length>0},L,C),x,P],n,P)}}function F(){if(_)return(_?[].slice.call(document.querySelectorAll(o.linksSelector||$)):[]).forEach(function(t){"false"!==t.getAttribute("data-navigo")&&"_blank"!==t.getAttribute("target")?t.hasListenerAttached||(t.hasListenerAttached=!0,t.navigoHandler=function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var n=t.getAttribute("href");if(null==n)return!1;if(n.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var o=new URL(n);n=o.pathname+o.search}catch(t){}var i=function(t){if(!t)return{};var e,n=t.split(","),o={};return n.forEach(function(t){var n=t.split(":").map(function(t){return t.replace(/(^ +| +$)/g,"")});switch(n[0]){case"historyAPIMethod":o.historyAPIMethod=n[1];break;case"resolveOptionsStrategy":e||(e={}),e.strategy=n[1];break;case"resolveOptionsHash":e||(e={}),e.hash="true"===n[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":o[n[0]]="true"===n[1]}}),e&&(o.resolveOptions=e),o}(t.getAttribute("data-navigo-options"));S||(e.preventDefault(),e.stopPropagation(),r.navigate(s(n),i))},t.addEventListener("click",t.navigoHandler)):t.hasListenerAttached&&t.removeEventListener("click",t.navigoHandler)}),r}function j(t,e,n){var o=b.find(function(e){return e.name===t}),r=null;if(o){if(r=o.path,e)for(var a in e)r=r.replace(":"+a,e[a]);r=r.match(/^\//)?r:"/"+r}return r&&n&&!n.includeRoot&&(r=r.replace(RegExp("^/"+i),"")),r}function I(t){var e=u(s(t)),o=e[0],r=e[1],i=""===r?null:d(r);return{url:o,queryString:r,hashString:c(t),route:N(o,function(){},[n],o),data:null,params:i}}function H(t,e,n){return"string"==typeof e&&(e=M(e)),e?(e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(n),function(){e.hooks[t]=e.hooks[t].filter(function(t){return t!==n})}):(console.warn("Route doesn't exists: "+e),function(){})}function M(t){return"string"==typeof t?b.find(function(e){return e.name===E(t)}):b.find(function(e){return e.handler===t})}t?i=s(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=i,this.routes=b,this.destroyed=S,this.current=p,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=function(t){t.instance.__dirty=!1,t.instance.__waiting.length>0&&t.instance.__waiting.shift()()},this.on=function(t,e,o){var r=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(o=e,e=t,t=i),b.push(N(t,e,[n,o]))):Object.keys(t).forEach(function(e){if("function"==typeof t[e])r.on(e,t[e]);else{var o=t[e],i=o.uses,a=o.as,s=o.hooks;b.push(N(e,i,[n,s],a))}}),this},this.off=function(t){return this.routes=b=b.filter(function(e){return l(t)?s(e.path)!==s(t):"function"==typeof t?t!==e.handler:String(e.path)!==String(t)}),this},this.resolve=R,this.navigate=D,this.navigateByName=function(t,e,n){var o=j(t,e);return null!==o&&(D(o.replace(RegExp("^/?"+i),""),n),!0)},this.destroy=function(){this.routes=b=[],O&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=S=!0},this.notFound=function(t,e){return r._notFoundRoute=N("*",t,[n,e],"__NOT_FOUND__"),this},this.updatePageLinks=F,this.link=function(t){return"/"+i+"/"+s(t)},this.hooks=function(t){return n=t,this},this.extractGETParameters=function(t){return u(A(t))},this.lastResolved=function(){return p},this.generate=j,this.getLinkPath=function(t){return t.getAttribute("href")},this.match=function(t){var e={instance:r,currentLocationPath:t,to:t,navigateOptions:{},resolveOptions:o};return y(e,function(){}),!!e.matches&&e.matches},this.matchLocation=function(t,e,n){void 0!==e&&(void 0===n||n)&&(e=E(e));var o={instance:r,to:e,currentLocationPath:e};return m(o,function(){}),"string"==typeof t&&(t=void 0===n||n?E(t):t),f(o,{name:String(t),path:t,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return I(s(a(i)).replace(RegExp("^"+i),""))},this.addBeforeHook=H.bind(this,"before"),this.addAfterHook=H.bind(this,"after"),this.addAlreadyHook=H.bind(this,"already"),this.addLeaveHook=H.bind(this,"leave"),this.getRoute=M,this._pathToMatchObject=I,this._clean=s,this._checkForAHash=A,this._setCurrent=function(t){return p=r.current=t},(function(){O&&(this.__popstateListener=function(){r.__freezeListening||R()},window.addEventListener("popstate",this.__popstateListener))}).call(this),F.call(this)}}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}return n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n(407)}().default))("/demos/pure-ui-actions/spa/");document.addEventListener("DOMContentLoaded",()=>(function({app:o,props:r,init:i}){B.clear(),U.clear(),q.clear(),t=void 0,e=void 0,n=void 0,V=!1,J=!1,z=0;let a=document.getElementById("app");if(!a)throw Error('Element with id "app" not found');T(a,o("app",r)),I.patch(),tn("patch"),Array.from(B.values()).forEach(t=>{t.inCurrentRender=!1}),i&&i((e,n)=>{t?.(e,n)(G)})})({app:tN,props:{},init:t=>{let e=()=>t("SetPage",{page:"counterPage"});tT.on({list:()=>t("SetPage",{page:"listPage"}),counter:e,"*":e}).resolve(),document.addEventListener("patch",()=>{tT.updatePageLinks()})}}));let{div:t$}=$;var tN=Q(()=>({state:()=>({theme:"dark",page:void 0,likes:{counterPage:0,listPage:0}}),actions:{SetPage:({page:t},{state:e})=>({state:t===e.page?e:{...e,page:t}}),SetTheme:({theme:t},{state:e})=>({state:t===e.theme?e:{...e,theme:t}}),Like:({page:t},{state:e})=>({state:{...e,likes:{...e.likes,[t]:e.likes[t]+1}}})},tasks:{SetDocTitle:({title:t})=>({perform:()=>{document.title=t}})},view:(t,{state:e})=>t$(`#${t}.page`,{class:{light:"light"===e.theme,dark:"dark"===e.theme}},(()=>{switch(e.page){case"listPage":return tP("#list-page");case"counterPage":return tm("#counter-page")}})())}));
//# sourceMappingURL=spa.0d4669b5.js.map
