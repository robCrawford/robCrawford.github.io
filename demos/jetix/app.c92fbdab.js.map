{"version":3,"sources":["../src/vnode.ts","../src/is.ts","../src/htmldomapi.ts","../src/h.ts","../src/thunk.ts","../src/snabbdom.ts","../src/modules/class.ts","../src/modules/attributes.ts","../src/modules/props.ts","../src/modules/eventlisteners.ts","../node_modules/hyperscript-helpers/dist/index.js","src/vnode.ts","../src/vdom.ts","../src/jetixLog.ts","../node_modules/fast-deep-equal/index.js","../src/jetix.ts","ts/components/notification.ts","ts/services/validation.ts","ts/components/counter.ts","ts/components/themeMenu.ts","ts/pages/counterPage.ts","ts/pages/aboutPage.ts","../src/index.js","ts/router.ts","ts/app.ts"],"names":["isPushStateAvailable","window","history","pushState","Navigo","r","useHash","hash","root","_routes","_useHash","_hash","_paused","_destroyed","_lastRouteResolved","_notFoundHandler","_defaultHandler","_usePushState","_onLocationChange","this","bind","_genericHooks","_historyAPIUpdateMethod","replace","_cLoc","split","_listen","updatePageLinks","clean","s","RegExp","getUrlDepth","url","length","compareUrlDepth","urlA","urlB","match","routes","map","route","paramNames","regexp","PARAMETER_REGEXP","full","dots","name","push","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","FOLLOWED_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","replaceDynamicURLParts","params","names","slice","reduce","value","index","decodeURIComponent","filter","m","matched","fallbackURL","result","getOnlyURL","cleanGETParam","str","manageHooks","handler","hooks","before","after","prototype","path","absolute","to","_getRoot","resolve","location","href","args","func","_typeof","uses","_add","Object","keys","sort","forEach","on","current","GETParameters","join","onlyURL","query","already","_callLeave","_this2","_listeningInterval","removeEventListener","self","document","_findLinks","link","hasListenerAttached","addEventListener","e","ctrlKey","metaKey","target","tagName","toLowerCase","getLinkPath","preventDefault","navigate","data","key","toString","status","pause","destroy","getAttribute","encodeURI","as","cached","check","_this3","setTimeout","__NAVIGO_WINDOW_LOCATION_MOCK__","call","querySelectorAll","lastRouteResolved","leave"],"mappings":"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","file":"app.c92fbdab.js","sourceRoot":"..","sourcesContent":["import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n}\n\nexport default vnode;\n","export const array = Array.isArray;\nexport function primitive(s: any): s is (string | number) {\n  return typeof s === 'string' || typeof s === 'number';\n}\n","export interface DOMAPI {\n  createElement: (tagName: any) => HTMLElement;\n  createElementNS: (namespaceURI: string, qualifiedName: string) => Element;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (parentNode: Node, newNode: Node, referenceNode: Node | null) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node;\n  nextSibling: (node: Node) => Node;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n}\n\nfunction createElement(tagName: any): HTMLElement {\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI: string, qualifiedName: string): Element {\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(parentNode: Node, newNode: Node, referenceNode: Node | null): void {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nexport const htmlDomApi = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n} as DOMAPI;\n\nexport default htmlDomApi;\n","import {vnode, VNode, VNodeData} from './vnode';\nexport type VNodes = Array<VNode>;\nexport type VNodeChildElement = VNode | string | number | undefined | null;\nexport type ArrayOrElement<T> = T | T[];\nexport type VNodeChildren = ArrayOrElement<VNodeChildElement>\nimport * as is from './is';\n\nfunction addNS(data: any, children: VNodes | undefined, sel: string | undefined): void {\n  data.ns = 'http://www.w3.org/2000/svg';\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      let childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, (children[i] as VNode).children as VNodes, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData): VNode;\nexport function h(sel: string, children: VNodeChildren): VNode;\nexport function h(sel: string, data: VNodeData, children: VNodeChildren): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  var data: VNodeData = {}, children: any, text: any, i: number;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n    else if (c && c.sel) { children = [c]; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else if (b && b.sel) { children = [b]; }\n    else { data = b; }\n  }\n  if (children !== undefined) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n    }\n  }\n  if (\n    sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n    (sel.length === 3 || sel[3] === '.' || sel[3] === '#')\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n};\nexport default h;\n","import {VNode, VNodeData} from './vnode';\nimport {h} from './h';\n\nexport interface ThunkData extends VNodeData {\n  fn: () => VNode;\n  args: Array<any>;\n}\n\nexport interface Thunk extends VNode {\n  data: ThunkData;\n}\n\nexport interface ThunkFn {\n  (sel: string, fn: Function, args: Array<any>): Thunk;\n  (sel: string, key: any, fn: Function, args: Array<any>): Thunk;\n}\n\nfunction copyToThunk(vnode: VNode, thunk: VNode): void {\n  thunk.elm = vnode.elm;\n  (vnode.data as VNodeData).fn = (thunk.data as VNodeData).fn;\n  (vnode.data as VNodeData).args = (thunk.data as VNodeData).args;\n  thunk.data = vnode.data;\n  thunk.children = vnode.children;\n  thunk.text = vnode.text;\n  thunk.elm = vnode.elm;\n}\n\nfunction init(thunk: VNode): void {\n  const cur = thunk.data as VNodeData;\n  const vnode = (cur.fn as any).apply(undefined, cur.args);\n  copyToThunk(vnode, thunk);\n}\n\nfunction prepatch(oldVnode: VNode, thunk: VNode): void {\n  let i: number, old = oldVnode.data as VNodeData, cur = thunk.data as VNodeData;\n  const oldArgs = old.args, args = cur.args;\n  if (old.fn !== cur.fn || (oldArgs as any).length !== (args as any).length) {\n    copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n    return;\n  }\n  for (i = 0; i < (args as any).length; ++i) {\n    if ((oldArgs as any)[i] !== (args as any)[i]) {\n      copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n      return;\n    }\n  }\n  copyToThunk(oldVnode, thunk);\n}\n\nexport const thunk = function thunk(sel: string, key?: any, fn?: any, args?: any): VNode {\n  if (args === undefined) {\n    args = fn;\n    fn = key;\n    key = undefined;\n  }\n  return h(sel, {\n    key: key,\n    hook: {init: init, prepatch: prepatch},\n    fn: fn,\n    args: args\n  });\n} as ThunkFn;\n\nexport default thunk;","/* global module, document, Node */\nimport {Module} from './modules/module';\nimport {Hooks} from './hooks';\nimport vnode, {VNode, VNodeData, Key} from './vnode';\nimport * as is from './is';\nimport htmlDomApi, {DOMAPI} from './htmldomapi';\n\nfunction isUndef(s: any): boolean { return s === undefined; }\nfunction isDef(s: any): boolean { return s !== undefined; }\n\ntype VNodeQueue = Array<VNode>;\n\nconst emptyNode = vnode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction isVnode(vnode: any): vnode is VNode {\n  return vnode.sel !== undefined;\n}\n\ntype KeyToIndexMap = {[key: string]: number};\n\ntype ArraysOf<T> = {\n  [K in keyof T]: (T[K])[];\n}\n\ntype ModuleHooks = ArraysOf<Module>;\n\nfunction createKeyToOldIdx(children: Array<VNode>, beginIdx: number, endIdx: number): KeyToIndexMap {\n  let i: number, map: KeyToIndexMap = {}, key: Key | undefined, ch;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    ch = children[i];\n    if (ch != null) {\n      key = ch.key;\n      if (key !== undefined) map[key] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: (keyof Module)[] = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nexport {h} from './h';\nexport {thunk} from './thunk';\n\nexport function init(modules: Array<Partial<Module>>, domApi?: DOMAPI) {\n  let i: number, j: number, cbs = ({} as ModuleHooks);\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      const hook = modules[j][hooks[i]];\n      if (hook !== undefined) {\n        (cbs[hooks[i]] as Array<any>).push(hook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? '#' + elm.id : '';\n    const c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm);\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    let children = vnode.children, sel = vnode.sel;\n    if (sel === '!') {\n      if (isUndef(vnode.text)) {\n        vnode.text = '';\n      }\n      vnode.elm = api.createComment(vnode.text as string);\n    } else if (sel !== undefined) {\n      // Parse selector\n      const hashIdx = sel.indexOf('#');\n      const dotIdx = sel.indexOf('.', hashIdx);\n      const hash = hashIdx > 0 ? hashIdx : sel.length;\n      const dot = dotIdx > 0 ? dotIdx : sel.length;\n      const tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n      const elm = vnode.elm = isDef(data) && isDef(i = (data as VNodeData).ns) ? api.createElementNS(i, tag)\n                                                                               : api.createElement(tag);\n      if (hash < dot) elm.setAttribute('id', sel.slice(hash + 1, dot));\n      if (dotIdx > 0) elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      i = (vnode.data as VNodeData).hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text as string);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm: Node,\n                     before: Node | null,\n                     vnodes: Array<VNode>,\n                     startIdx: number,\n                     endIdx: number,\n                     insertedVnodeQueue: VNodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    let i: any, j: number, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          i = vnode.children[j];\n          if (i != null && typeof i !== \"string\") {\n            invokeDestroyHook(i);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm: Node,\n                        vnodes: Array<VNode>,\n                        startIdx: number,\n                        endIdx: number): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let i: any, listeners: number, rm: () => void, ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm as Node, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm as Node);\n        }\n      }\n    }\n  }\n\n  function updateChildren(parentElm: Node,\n                          oldCh: Array<VNode>,\n                          newCh: Array<VNode>,\n                          insertedVnodeQueue: VNodeQueue) {\n    let oldStartIdx = 0, newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: any;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm as Node, api.nextSibling(oldEndVnode.elm as Node));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm as Node, oldStartVnode.elm as Node);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, (elmToMove.elm as Node), oldStartVnode.elm as Node);\n          }\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n      if (oldStartIdx > oldEndIdx) {\n        before = newCh[newEndIdx+1] == null ? null : newCh[newEndIdx+1].elm;\n        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n      } else {\n        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n      }\n    }\n  }\n\n  function patchVnode(oldVnode: VNode, vnode: VNode, insertedVnodeQueue: VNodeQueue) {\n    let i: any, hook: any;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    const elm = vnode.elm = (oldVnode.elm as Node);\n    let oldCh = oldVnode.children;\n    let ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (vnode.data !== undefined) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh as Array<VNode>, ch as Array<VNode>, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch as Array<VNode>, 0, (ch as Array<VNode>).length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      }\n      api.setTextContent(elm, vnode.text as string);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function patch(oldVnode: VNode | Element, vnode: VNode): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (!isVnode(oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm as Node;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm as Node, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      (((insertedVnodeQueue[i].data as VNodeData).hook as Hooks).insert as any)(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Classes = Record<string, boolean>\n\nfunction updateClass(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm: Element = vnode.elm as Element,\n      oldClass = (oldVnode.data as VNodeData).class,\n      klass = (vnode.data as VNodeData).class;\n\n  if (!oldClass && !klass) return;\n  if (oldClass === klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      (elm.classList as any)[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nexport const classModule = {create: updateClass, update: updateClass} as Module;\nexport default classModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\n// because those in TypeScript are too restrictive: https://github.com/Microsoft/TSJS-lib-generator/pull/237\ndeclare global {\n  interface Element {\n    setAttribute(name: string, value: string | number | boolean): void;\n    setAttributeNS(namespaceURI: string, qualifiedName: string, value: string | number | boolean): void;\n  }\n}\n\nexport type Attrs = Record<string, string | number | boolean>\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst colonChar = 58;\nconst xChar = 120;\n\nfunction updateAttrs(oldVnode: VNode, vnode: VNode): void {\n  var key: string, elm: Element = vnode.elm as Element,\n      oldAttrs = (oldVnode.data as VNodeData).attrs,\n      attrs = (vnode.data as VNodeData).attrs;\n\n  if (!oldAttrs && !attrs) return;\n  if (oldAttrs === attrs) return;\n  oldAttrs = oldAttrs || {};\n  attrs = attrs || {};\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    const cur = attrs[key];\n    const old = oldAttrs[key];\n    if (old !== cur) {\n      if (cur === true) {\n        elm.setAttribute(key, \"\");\n      } else if (cur === false) {\n        elm.removeAttribute(key);\n      } else {\n        if (key.charCodeAt(0) !== xChar) {\n          elm.setAttribute(key, cur);\n        } else if (key.charCodeAt(3) === colonChar) {\n          // Assume xml namespace\n          elm.setAttributeNS(xmlNS, key, cur);\n        } else if (key.charCodeAt(5) === colonChar) {\n          // Assume xlink namespace\n          elm.setAttributeNS(xlinkNS, key, cur);\n        } else {\n          elm.setAttribute(key, cur);\n        }\n      }\n    }\n  }\n  // remove removed attributes\n  // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n  // the other option is to remove all attributes with value == undefined\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      elm.removeAttribute(key);\n    }\n  }\n}\n\nexport const attributesModule = {create: updateAttrs, update: updateAttrs} as Module;\nexport default attributesModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Props = Record<string, any>;\n\nfunction updateProps(oldVnode: VNode, vnode: VNode): void {\n  var key: string, cur: any, old: any, elm = vnode.elm,\n      oldProps = (oldVnode.data as VNodeData).props,\n      props = (vnode.data as VNodeData).props;\n\n  if (!oldProps && !props) return;\n  if (oldProps === props) return;\n  oldProps = oldProps || {};\n  props = props || {};\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete (elm as any)[key];\n    }\n  }\n  for (key in props) {\n    cur = props[key];\n    old = oldProps[key];\n    if (old !== cur && (key !== 'value' || (elm as any)[key] !== cur)) {\n      (elm as any)[key] = cur;\n    }\n  }\n}\n\nexport const propsModule = {create: updateProps, update: updateProps} as Module;\nexport default propsModule;","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type On = {\n  [N in keyof HTMLElementEventMap]?: (ev: HTMLElementEventMap[N]) => void\n} & {\n  [event: string]: EventListener\n};\n\nfunction invokeHandler(handler: any, vnode?: VNode, event?: Event): void {\n  if (typeof handler === \"function\") {\n    // call function handler\n    handler.call(vnode, event, vnode);\n  } else if (typeof handler === \"object\") {\n    // call handler with arguments\n    if (typeof handler[0] === \"function\") {\n      // special case for single argument for performance\n      if (handler.length === 2) {\n        handler[0].call(vnode, handler[1], event, vnode);\n      } else {\n        var args = handler.slice(1);\n        args.push(event);\n        args.push(vnode);\n        handler[0].apply(vnode, args);\n      }\n    } else {\n      // call multiple handlers\n      for (var i = 0; i < handler.length; i++) {\n        invokeHandler(handler[i], vnode, event);\n      }\n    }\n  }\n}\n\nfunction handleEvent(event: Event, vnode: VNode) {\n  var name = event.type,\n      on = (vnode.data as VNodeData).on;\n\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], vnode, event);\n  }\n}\n\nfunction createListener() {\n  return function handler(event: Event) {\n    handleEvent(event, (handler as any).vnode);\n  }\n}\n\nfunction updateEventListeners(oldVnode: VNode, vnode?: VNode): void {\n  var oldOn = (oldVnode.data as VNodeData).on,\n      oldListener = (oldVnode as any).listener,\n      oldElm: Element = oldVnode.elm as Element,\n      on = vnode && (vnode.data as VNodeData).on,\n      elm: Element = (vnode && vnode.elm) as Element,\n      name: string;\n\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      for (name in oldOn) {\n        // remove listener if element was changed or existing listeners removed\n        oldElm.removeEventListener(name, oldListener, false);\n      }\n    } else {\n      for (name in oldOn) {\n        // remove listener if existing listener removed\n        if (!on[name]) {\n          oldElm.removeEventListener(name, oldListener, false);\n        }\n      }\n    }\n  }\n\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    var listener = (vnode as any).listener = (oldVnode as any).listener || createListener();\n    // update vnode for listener\n    listener.vnode = vnode;\n\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      for (name in on) {\n        // add listener if element was changed or new listeners added\n        elm.addEventListener(name, listener, false);\n      }\n    } else {\n      for (name in on) {\n        // add listener if new listener added\n        if (!oldOn[name]) {\n          elm.addEventListener(name, listener, false);\n        }\n      }\n    }\n  }\n}\n\nexport const eventListenersModule = {\n  create: updateEventListeners,\n  update: updateEventListeners,\n  destroy: updateEventListeners\n} as Module;\nexport default eventListenersModule;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar isValidString = function isValidString(param) {\n  return typeof param === 'string' && param.length > 0;\n};\n\nvar startsWith = function startsWith(string, start) {\n  return string[0] === start;\n};\n\nvar isSelector = function isSelector(param) {\n  return isValidString(param) && (startsWith(param, '.') || startsWith(param, '#'));\n};\n\nvar node = function node(h) {\n  return function (tagName) {\n    return function (first) {\n      for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (isSelector(first)) {\n        return h.apply(undefined, [tagName + first].concat(rest));\n      } else if (typeof first === 'undefined') {\n        return h(tagName);\n      } else {\n        return h.apply(undefined, [tagName, first].concat(rest));\n      }\n    };\n  };\n};\n\nvar TAG_NAMES = ['a', 'abbr', 'acronym', 'address', 'applet', 'area', 'article', 'aside', 'audio', 'b', 'base', 'basefont', 'bdi', 'bdo', 'bgsound', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'command', 'content', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'frame', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'image', 'img', 'input', 'ins', 'isindex', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'listing', 'main', 'map', 'mark', 'marquee', 'math', 'menu', 'menuitem', 'meta', 'meter', 'multicol', 'nav', 'nextid', 'nobr', 'noembed', 'noframes', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'plaintext', 'pre', 'progress', 'q', 'rb', 'rbc', 'rp', 'rt', 'rtc', 'ruby', 's', 'samp', 'script', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'svg', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr', 'xmp'];\n\nexports['default'] = function (h) {\n  var createTag = node(h);\n  var exported = { TAG_NAMES: TAG_NAMES, isSelector: isSelector, createTag: createTag };\n  TAG_NAMES.forEach(function (n) {\n    exported[n] = createTag(n);\n  });\n  return exported;\n};\n\nmodule.exports = exports['default'];","import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n}\n\nexport default vnode;\n","/*\n  A wrapper around `https://github.com/snabbdom/snabbdom`\n  with html functions from `https://github.com/ohanhi/hyperscript-helpers`\n*/\nimport { init, h } from \"snabbdom\";\nimport sClass from \"snabbdom/modules/class\";\nimport sAttr from \"snabbdom/modules/attributes\";\nimport sProps from \"snabbdom/modules/props\";\nimport sEvents from \"snabbdom/modules/eventlisteners\";\nimport hyperscriptHelpers from 'hyperscript-helpers';\nimport { VNode } from \"snabbdom/vnode\";\nexport { VNode };\n\nexport const patch = init([ sClass, sAttr, sProps, sEvents ]);\n\nexport const html = hyperscriptHelpers(h);\n\nexport function setHook(vnode: VNode, hookName: string, callback: () => void): void {\n    // https://github.com/snabbdom/snabbdom#hooks\n    // init        a vnode has been added                                vnode\n    // create      a DOM element has been created based on a vnode       emptyVnode, vnode\n    // insert      an element has been inserted into the DOM             vnode\n    // prepatch    an element is about to be patched                     oldVnode, vnode\n    // update      an element is being updated                           oldVnode, vnode\n    // postpatch   an element has been patched                           oldVnode, vnode\n    // destroy     an element is directly or indirectly being removed    vnode\n    // remove      an element is directly being removed from the DOM     vnode, removeCallback\n    if (vnode) {\n        vnode.data = vnode.data || {};\n        vnode.data.hook = vnode.data.hook || {};\n        vnode.data.hook[hookName] = callback;\n    }\n}\n","/*\n  Logging for Jetix lifecycle\n*/\nlet groupId = '';\n\nconst logEnabled = /[&?]debug/.test(window.location.search);\n\nexport const log = ({\n    noInitialAction(id: string, state: {}) {\n        if (logEnabled) {\n            console.group(`%c#${id}`, \"color: #69f\");\n            if (state) {\n                console.log(`${JSON.stringify(state)}`);\n            }\n            groupId = id;\n        }\n    },\n    updateStart(id: string, state: {}, label: string, data?: {}) {\n        if (logEnabled) {\n            if (!groupId || groupId !== id) {\n                console.group(`%c#${id}`, \"color: #69f\");\n                if (state) {\n                    console.log(`%c${JSON.stringify(state)}`, \"text-decoration: line-through;\");\n                }\n                groupId = id;\n            }\n            let msg = `${String(label)}`;\n            if (data) {\n                msg += ` ${JSON.stringify(data)}`;\n            }\n            console.log(`%c${msg}`, \"color: #f6b\");\n        }\n    },\n    updateEnd(state: {}) {\n        if (logEnabled && state) {\n            console.log(`${JSON.stringify(state)}`);\n        }\n    },\n    taskPerform(label: string, isPromise: boolean) {\n        if (logEnabled) {\n            console.log(`%cTask \"${label}\" perform${isPromise ? '...': 'ed'}`, \"color: #dd8\");\n        }\n    },\n    taskSuccess(id: string, label: string) {\n        if (logEnabled) {\n            console.log(`%c\\n...#${id} task \"${label}\" success`, \"color: #dd8\");\n        }\n    },\n    taskFailure(id: string, label: string, err: Error) {\n        if (logEnabled) {\n            console.log(`%c\\n...#${id} task \"${label}\" failure`, \"color: #dd8\");\n            console.error(JSON.stringify(err));\n        }\n    },\n    render(id: string, props: {}) {\n        if (logEnabled) {\n            console.groupEnd();\n            let msg = ` Render #${id}`;\n            if (props && Object.keys(props).length) {\n                msg += `, props: ${JSON.stringify(props)}`;\n            }\n            console.log(`%c${msg}`, \"color: #888\");\n            groupId = '';\n        }\n    },\n    noRender(id: string) {\n        if (logEnabled) {\n            console.groupEnd();\n            let msg = `! No render - #${id} has no changes`;\n            console.log(`%c${msg}`, \"color: #888\");\n            groupId = '';\n        }\n    },\n    manualError(id: string, name: string) {\n        console.error(`Error: #${id} \"${name}\" cannot be invoked manually`);\n    }\n});\n\nwindow.addEventListener('error', () => {\n    setTimeout(() => {\n        console.groupEnd();\n        groupId = '';\n    });\n});\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","import { patch, setHook, VNode } from \"./vdom\";\nexport { html } from \"./vdom\";\nimport { log } from \"./jetixLog\";\nimport equal from 'fast-deep-equal';\n\ntype ValueOf<T> = T[keyof T];\n\nenum ThunkType {\n    Action,\n    Task\n};\n\nexport type ActionThunk = {\n    (data: {}): void | ActionThunk; // Returns another `ActionThunk` when currying\n    type: ThunkType;\n}\n\nexport type GetActionThunk<A> = <K extends keyof A>(actionName: K, data?: A[K]) => ActionThunk;\n\nexport type RunAction<A> = (actionName: keyof A, data?: ValueOf<A>) => void;\n\nexport type TaskThunk = {\n    (data: {}): Promise<Next>;\n    type: ThunkType;\n    taskName: string;\n};\n\nexport type GetTaskThunk<T> = (taskName: keyof T, data?: ValueOf<T>) => TaskThunk;\n\ntype Next = ActionThunk | TaskThunk | (ActionThunk | TaskThunk)[];\n\nexport type ActionHandler<D, P, S> = (\n    data: D,\n    props: P,\n    state: S,\n    rootState: {}\n) => { state: S; next?: Next };\n\ntype TaskHandler<D> = (data: D) => TaskSpec;\n\ntype TaskResult = any; // Result from the effect promise\n\ntype TaskSpec = {\n    perform: () => Promise<TaskResult> | void;\n    success?: (a: TaskResult) => Next;\n    failure?: (a: TaskResult) => Next;\n};\n\nexport type Config<P, S, A, T> = {\n    state?: (props: P) => S;\n    init?: Next;\n    actions?: {[K in keyof A]: ActionHandler<A[K], P, S>};\n    tasks?: {[K in keyof T]: TaskHandler<T[K]>};\n    view: (id: string, props: P, state: S, rootState: {}) => VNode;\n};\n\nexport type GetConfig<P, S, A, T> =\n    (action: GetActionThunk<A>, task: GetTaskThunk<T>) => Config<P, S, A, T>;\n\ntype RenderFn<T> = (props: T) => VNode | void;\n\nconst appId = \"app\";\nconst renderRefs: { [id: string]: RenderFn<{}> } = {};\nconst prevProps: { [id: string]: {} } = {};\nlet internalKey = {}; // Private unique value\nlet rootState;\nlet rootStateChanged = false;\nexport const _setTestKey = k => internalKey = k; // For lib unit tests\nexport let rootAction;\nexport let rootTask;\n\nexport function component<P = {}, S = {}, A = {}, T = {}>(\n    getConfig: GetConfig<P, S, A, T>\n) {\n    // Pass in callback that returns component config\n    // Returns render function that is called by parent e.g. `counter(\"counter-0\", { start: 0 })`\n    const renderFn = (idStr: string, props?: P): VNode => {\n        const id = idStr.replace(/^#/, \"\");\n        if (!id.length) {\n            throw Error(\"Component requires an id\");\n        }\n        return renderComponent<P, S, A, T>(id, props, getConfig);\n    };\n    // Add a handle to `getConfig` for tests\n    renderFn.getConfig = getConfig;\n    return renderFn;\n}\n\nexport function renderComponent<P extends {}, S extends {}, A, T>(\n    id: string,\n    props: P,\n    getConfig: GetConfig<P, S, A, T>\n): VNode {\n    deepFreeze(props);\n    const isRoot = id === appId;\n\n    // If component already exists, just run render() again\n    let componentRoot = renderById(id, props);\n    if (componentRoot) {\n        return componentRoot;\n    }\n\n    const action: GetActionThunk<A> = (actionName, data): ActionThunk => {\n        const actionThunk = (thunkInput: ValueOf<A> | {}): void => {\n            if (isDomEvent(thunkInput)) {\n                // Invoked from the DOM, `thunkInput` is the (unused) event\n                update(actionName, data);\n            }\n            else if (thunkInput === internalKey) {\n                // Called by internal method `run()`\n                // `internalKey` disallows an action being invoked manually from outside\n                update(actionName, data);\n            }\n            else if (thunkInput) {\n                // If a data argument is supplied, return a new thunk instead of invoking the current one\n                // This enables currying e.g. when passing an action from parent to child via props\n                action(actionName, thunkInput as ValueOf<A>);\n            }\n            else {\n                log.manualError(id, String(actionName));\n            }\n        };\n        actionThunk.type = ThunkType.Action;\n        return actionThunk;\n    };\n\n    const task: GetTaskThunk<T> = (taskName, data): TaskThunk => {\n        if (!config.tasks) {\n            throw Error(`tasks ${String(config.tasks)}`);\n        }\n        const resolve = () => {\n            const { perform, success, failure }: TaskSpec = config.tasks[taskName](data);\n            const promise = perform();\n            if (promise && promise.then) {\n                return promise.then(success).catch(failure);\n            }\n        };\n        const taskThunk = (thunkInput: {}) => {\n            if (isDomEvent(thunkInput)) {\n                // Invoked from the DOM, `thunkInput` is the (unused) event\n                resolve();\n            }\n            else if (thunkInput === internalKey) {\n                return resolve();\n            }\n            else {\n                log.manualError(id, String(taskName));\n            }\n        };\n        taskThunk.type = ThunkType.Task;\n        taskThunk.taskName = String(taskName);\n        return taskThunk;\n    };\n\n    const config = getConfig(action, task);\n    let state = config.state && config.state(props);\n    let noRender = 0;\n    let stateChanged = false;\n\n    function update(actionName: keyof A, data?: ValueOf<A>): void {\n        let next;\n        const prevState = deepFreeze(state);\n        prevProps[id] = props;\n        log.updateStart(id, prevState, String(actionName), data);\n\n        ({ state, next } = (config.actions[actionName] as ActionHandler<ValueOf<A>, P, S>)(\n            data, props, prevState, rootState\n        ));\n        // Action handlers return existing state by ref if no changes\n        stateChanged = prevState !== state;\n        if (isRoot) {\n            rootState = state;\n            rootStateChanged = stateChanged;\n        }\n        log.updateEnd(state);\n        run(next, props, String(actionName));\n    }\n\n    function run(next: Next | undefined, props: P, prevTag?: string): void {\n        if (!next) {\n            render(props);\n        }\n        else if ((next as ActionThunk).type === ThunkType.Action) {\n            // An action thunk may only be invoked here or from the DOM\n            // `internalKey` prevents any manual calls from outside\n            (next as ActionThunk)(internalKey);\n        }\n        else if (Array.isArray(next)) {\n            noRender++;\n            next.forEach(n => run(n, props, prevTag));\n            noRender--;\n            render(props);\n        }\n        else if ((next as TaskThunk).type === ThunkType.Task) {\n            const result = (next as TaskThunk)(internalKey);\n            const taskName = (next as TaskThunk).taskName;\n            const isPromise = Boolean(result && result.then);\n            if (isPromise) {\n                result\n                    .then(n => {\n                        log.taskSuccess(id, String(taskName));\n                        run(n, props, prevTag);\n                    })\n                    .catch(e => log.taskFailure(id, String(taskName), e));\n            }\n            log.taskPerform(String(taskName), isPromise);\n            render(props); // End of sync chain\n        }\n    }\n\n    const render: RenderFn<P> = (props: P) => {\n        if (!noRender) {\n            // `state` is same ref when unchanged but `props` is always a new object so deep compare\n            const renderRequired = stateChanged || rootStateChanged || !equal(prevProps[id], props);\n            if (renderRequired) {\n                patch(componentRoot as VNode, (componentRoot = config.view(id, props, state, rootState)));\n                setRenderRef(componentRoot, id, render);\n                log.render(id, props);\n                publish(\"patch\");\n                if (isRoot) {\n                    rootStateChanged = false;\n                }\n            }\n            else {\n                log.noRender(id);\n            }\n        }\n        return componentRoot;\n    }\n\n    if (config.init) {\n        noRender++;\n        run(config.init, props);\n        noRender--;\n    }\n    else {\n        log.noInitialAction(id, state);\n    }\n\n    if (isRoot) {\n        rootAction = action as GetActionThunk<A>;\n        rootTask = task as GetTaskThunk<T>;\n        rootState = state;\n    }\n\n    componentRoot = config.view(id, props, state, rootState);\n    setRenderRef(componentRoot, id, render);\n    log.render(id, props);\n    return componentRoot;\n}\n\nexport function mount<T, P>({ app, props, init }: {\n    app: (idStr: string, props?: P) => VNode;\n    props: P;\n    init?: (runRootAction: RunAction<T>) => void;\n}): void {\n    // Mount the top-level app component\n    patch(\n        document.getElementById(appId),\n        app(appId, props)\n    );\n    // Manually invoking an action without `internalKey` is an error, so `runRootAction`\n    // is provided by `mount` for wiring up events to root actions (e.g. routing)\n    if (init) {\n        const runRootAction: RunAction<T> = (actionName, data) => {\n            rootAction(actionName, data)(internalKey);\n        };\n        init(runRootAction);\n    }\n}\n\nfunction isDomEvent(e: any): boolean {\n    return e && \"eventPhase\" in e;\n}\n\nfunction renderById(id: string, props: {}): VNode | void {\n    const render = renderRefs[id];\n    if (render) {\n        return render(props);\n    }\n}\n\nfunction setRenderRef(vnode: VNode, id: string, render: RenderFn<{}>): void {\n    // Run after all synchronous patches\n    setTimeout(() => {\n        renderRefs[id] = render;\n        setHook(vnode, \"destroy\", () => {\n            delete renderRefs[id];\n            delete prevProps[id];\n        });\n    });\n}\n\nfunction deepFreeze<T>(o: T): T {\n    if (o) {\n        Object.freeze(o);\n        Object.getOwnPropertyNames(o).forEach((p: string) => {\n            if (\n                o.hasOwnProperty(p) &&\n                o[p] !== null &&\n                (typeof o[p] === \"object\" || typeof o[p] === \"function\") &&\n                !Object.isFrozen(o[p])\n            ) {\n                deepFreeze(o[p]);\n            }\n        });\n    }\n    return o;\n}\n\n// Pub/sub\nexport function subscribe(type: string, listener: EventListener) {\n    document.addEventListener(type, listener);\n}\nexport function unsubscribe(type: string, listener: EventListener) {\n    document.removeEventListener(type, listener);\n}\nexport function publish(type: string, detail?: any) {\n    document.dispatchEvent(new CustomEvent(type, detail ? { detail } : null));\n}\n","import { ActionThunk, component, html } from \"../../../src/jetix\";\nconst { div, button } = html;\n\ntype Props = {\n    readonly text: string;\n    readonly onDismiss: ActionThunk;\n};\n\ntype State = {\n    show: boolean;\n};\n\ntype Actions = {\n    \"Dismiss\": null;\n}\n\nexport default component<Props, State, Actions>(action => ({\n\n    state: () => ({\n        show: true\n    }),\n\n    actions: {\n        Dismiss: (_, props, state) => {\n            return {\n                state: {\n                    ...state,\n                    show: false\n                },\n                next: props.onDismiss\n            };\n        }\n    },\n\n    view(id, props, state) {\n        return div(`#${id}.notification`, {\n            class: {\n                show: state.show && props.text.length\n            }\n        }, [\n            props.text,\n            button({ on: { click: action(\"Dismiss\") } }, \"Dismiss\")\n        ]);\n    }\n\n}));\n","\nexport function validateCount(n: number): Promise<string> {\n    // Mock async\n    return new Promise(resolve => {\n        setTimeout(() => resolve(isNegative(n) ? \"x Invalid\" : \" Vaild\"), 500);\n    });\n}\n\nexport function isNegative(n: number): boolean {\n    return n < 0;\n}\n","import { component, html } from \"../../../src/jetix\";\nimport notification from \"./notification\";\nimport { validateCount } from \"../services/validation\";\nconst { div, button } = html;\n\ntype Props = {\n    readonly start: number;\n};\n\ntype State = {\n    counter: number;\n    feedback: string;\n};\n\ntype Actions = {\n    \"Increment\": { step: number };\n    \"Decrement\": { step: number };\n    \"Validate\": null;\n    \"SetFeedback\": { text: string };\n};\n\ntype Tasks = {\n    \"ValidateCount\": { count: number };\n}\n\nexport default component<Props, State, Actions, Tasks>((action, task) => ({\n\n    // Initial state\n    state: (props) => ({\n        counter: props.start,\n        feedback: \"\"\n    }),\n\n    // Initial action\n    init: action(\"Validate\"),\n\n    // Action handlers return new state, and any next actions/tasks\n    actions: {\n        Increment: ({ step }, props, state, rootState) => {\n            return {\n                state: {\n                    ...state,\n                    counter: state.counter + step\n                },\n                next: action(\"Validate\")\n            };\n        },\n        Decrement: ({ step }, props, state, rootState) => {\n            return {\n                state: {\n                    ...state,\n                    counter: state.counter - step\n                },\n                next: action(\"Validate\")\n            };\n        },\n        Validate: (_, props, state, rootState) => {\n            return {\n                state,\n                next: [\n                    action(\"SetFeedback\", { text: \"Validating...\" }),\n                    // An async task\n                    task(\"ValidateCount\", { count: state.counter })\n                ]};\n        },\n        SetFeedback: ({ text }, props, state, rootState) => {\n            return {\n                state: {\n                    ...state,\n                    feedback: text\n                }\n            };\n        }\n    },\n\n    // Task handlers provide callbacks for effects and async operations that may fail\n    tasks: {\n        ValidateCount: ({ count }) => {\n            return {\n                perform: () => validateCount(count),\n                success: (text: string) => action(\"SetFeedback\", { text }),\n                failure: () => action(\"SetFeedback\", { text: \"Unavailable\" })\n            };\n        }\n    },\n\n    // View renders from props & state\n    view(id, props, state, rootState) {\n        return div(`#${id}.counter`, [\n            button(\n                { on: { click: action(\"Increment\", { step: 1 }) } },\n                \"+\"\n            ),\n            div(String(state.counter)),\n            button(\n                { on: { click: action(\"Decrement\", { step: 1 }) } },\n                \"-\"\n            ),\n            // Child component - `notification` module\n            notification(`#${id}-feedback`, {\n                text: state.feedback,\n                onDismiss: action(\"SetFeedback\", { text: \"\" })\n            })\n        ]);\n    }\n\n}));\n","import { component, rootAction, html } from \"../../../src/jetix\";\nconst { div, button } = html;\n\n\nexport default component(() => ({\n\n    view(id) {\n        return div(`#${id}`, [\n            button(\n                { on: { click: rootAction(\"SetTheme\", { theme: \"light\" }) } },\n                \"Light theme\"),\n            button(\n                { on: { click: rootAction(\"SetTheme\", { theme: \"dark\" }) } },\n                \"Dark theme\"),\n            div('.note', \"NOTE: Adding `debug` to the query string logs all state activity and renders.\")\n        ]);\n    }\n\n}));\n","import { component, html, rootTask } from \"../../../src/jetix\";\nimport counter from \"../components/counter\";\nimport themeMenu from \"../components/themeMenu\";\nconst { div, h1, i, a } = html;\n\n\nexport default component(() => ({\n\n    init: rootTask(\"SetDocTitle\", { title: \"Counter\" }),\n\n    view(id) {\n        return div(`#${id}`, [\n            div(\".intro\", [\n                themeMenu(\"#theme-menu\"),\n                a({attrs: {href: \"/about\" + location.search, \"data-navigo\": true}}, \"About page\"),\n                h1(\"Counter\")\n            ]),\n            counter(\"#counter-0\", { start: 0 }),\n            counter(\"#counter-1\", { start: -1 })\n        ]);\n    }\n\n}));\n","import { component, html, rootTask } from \"../../../src/jetix\";\nimport themeMenu from \"../components/themeMenu\";\nconst { div, h1, a } = html;\n\n\nexport default component(() => ({\n\n    init: rootTask(\"SetDocTitle\", { title: \"About\" }),\n\n    view(id) {\n        return div(`#${id}`,\n            div(\".intro\", [\n                themeMenu(\"#theme-menu\"),\n                a({attrs: {href: \"/counter\" + location.search, \"data-navigo\": true}}, \"Counter page\"),\n                h1(\"About\"),\n                div(\"Lorem ipsum dolor sit amet.\")\n            ])\n        );\n    }\n\n}));\n","function isPushStateAvailable() {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.history &&\n    window.history.pushState\n  );\n}\n\nfunction Navigo(r, useHash, hash) {\n  this.root = null;\n  this._routes = [];\n  this._useHash = useHash;\n  this._hash = typeof hash === 'undefined' ? '#' : hash;\n  this._paused = false;\n  this._destroyed = false;\n  this._lastRouteResolved = null;\n  this._notFoundHandler = null;\n  this._defaultHandler = null;\n  this._usePushState = !useHash && isPushStateAvailable();\n  this._onLocationChange = this._onLocationChange.bind(this);\n  this._genericHooks = null;\n  this._historyAPIUpdateMethod = 'pushState';\n\n  if (r) {\n    this.root = useHash ? r.replace(/\\/$/, '/' + this._hash) : r.replace(/\\/$/, '');\n  } else if (useHash) {\n    this.root = this._cLoc().split(this._hash)[0].replace(/\\/$/, '/' + this._hash);\n  }\n\n  this._listen();\n  this.updatePageLinks();\n}\n\nfunction clean(s) {\n  if (s instanceof RegExp) return s;\n  return s.replace(/\\/+$/, '').replace(/^\\/+/, '^/');\n}\n\nfunction regExpResultToParams(match, names) {\n  if (names.length === 0) return null;\n  if (!match) return null;\n  return match\n    .slice(1, match.length)\n    .reduce((params, value, index) => {\n      if (params === null) params = {};\n      params[names[index]] = decodeURIComponent(value);\n      return params;\n    }, null);\n}\n\nfunction replaceDynamicURLParts(route) {\n  var paramNames = [], regexp;\n\n  if (route instanceof RegExp) {\n    regexp = route;\n  } else {\n    regexp = new RegExp(\n      route.replace(Navigo.PARAMETER_REGEXP, function (full, dots, name) {\n        paramNames.push(name);\n        return Navigo.REPLACE_VARIABLE_REGEXP;\n      })\n        .replace(Navigo.WILDCARD_REGEXP, Navigo.REPLACE_WILDCARD) + Navigo.FOLLOWED_BY_SLASH_REGEXP\n      , Navigo.MATCH_REGEXP_FLAGS);\n  }\n  return { regexp, paramNames };\n}\n\nfunction getUrlDepth(url) {\n  return url.replace(/\\/$/, '').split('/').length;\n}\n\nfunction compareUrlDepth(urlA, urlB) {\n  return getUrlDepth(urlB) - getUrlDepth(urlA);\n}\n\nfunction findMatchedRoutes(url, routes = []) {\n  return routes\n    .map(route => {\n      var { regexp, paramNames } = replaceDynamicURLParts(clean(route.route));\n      var match = url.replace(/^\\/+/, '/').match(regexp);\n      var params = regExpResultToParams(match, paramNames);\n\n      return match ? { match, route, params } : false;\n    })\n    .filter(m => m);\n}\n\nfunction match(url, routes) {\n  return findMatchedRoutes(url, routes)[0] || false;\n}\n\nfunction root(url, routes) {\n  var matched = routes.map(\n    route => route.route === '' || route.route === '*' ? url : url.split(new RegExp(route.route + '($|\\/)'))[0]\n  );\n  var fallbackURL = clean(url);\n\n  if (matched.length > 1) {\n    return matched.reduce((result, url) => {\n      if (result.length > url.length) result = url;\n      return result;\n    }, matched[0]);\n  } else if (matched.length === 1) {\n    return matched[0];\n  }\n  return fallbackURL;\n}\n\nfunction isHashChangeAPIAvailable() {\n  return typeof window !== 'undefined' && 'onhashchange' in window;\n}\n\nfunction extractGETParameters(url) {\n  return url.split(/\\?(.*)?$/).slice(1).join('');\n}\n\nfunction getOnlyURL(url, useHash, hash) {\n  var onlyURL = url, split;\n  var cleanGETParam = str => str.split(/\\?(.*)?$/)[0];\n\n  if (typeof hash === 'undefined') {\n    // To preserve BC\n    hash = '#';\n  }\n\n  if (isPushStateAvailable() && !useHash) {\n    onlyURL = cleanGETParam(url).split(hash)[0];\n  } else {\n    split = url.split(hash);\n    onlyURL = split.length > 1 ? cleanGETParam(split[1]) : cleanGETParam(split[0]);\n  }\n\n  return onlyURL;\n}\n\nfunction manageHooks(handler, hooks, params) {\n  if (hooks && typeof hooks === 'object') {\n    if (hooks.before) {\n      hooks.before((shouldRoute = true) => {\n        if (!shouldRoute) return;\n        handler();\n        hooks.after && hooks.after(params);\n      }, params);\n      return;\n    } else if (hooks.after) {\n      handler();\n      hooks.after && hooks.after(params);\n      return;\n    }\n  }\n  handler();\n}\n\nfunction isHashedRoot(url, useHash, hash) {\n  if (isPushStateAvailable() && !useHash) {\n    return false;\n  }\n\n  if (!url.match(hash)) {\n    return false;\n  }\n\n  let split = url.split(hash);\n\n  return split.length < 2 || split[1] === '';\n}\n\nNavigo.prototype = {\n  helpers: {\n    match,\n    root,\n    clean,\n    getOnlyURL\n  },\n  navigate: function (path, absolute) {\n    var to;\n\n    path = path || '';\n    if (this._usePushState) {\n      to = (!absolute ? this._getRoot() + '/' : '') + path.replace(/^\\/+/, '/');\n      to = to.replace(/([^:])(\\/{2,})/g, '$1/');\n      history[this._historyAPIUpdateMethod]({}, '', to);\n      this.resolve();\n    } else if (typeof window !== 'undefined') {\n      path = path.replace(new RegExp('^' + this._hash), '');\n      window.location.href =\n        window.location.href\n          .replace(/#$/, '')\n          .replace(new RegExp(this._hash + '.*$'), '') + this._hash + path;\n    }\n    return this;\n  },\n  on: function (...args) {\n    if (typeof args[0] === 'function') {\n      this._defaultHandler = { handler: args[0], hooks: args[1] };\n    } else if (args.length >= 2) {\n      if (args[0] === '/') {\n        let func = args[1];\n\n        if (typeof args[1] === 'object') {\n          func = args[1].uses;\n        }\n\n        this._defaultHandler = { handler: func, hooks: args[2] };\n      } else {\n        this._add(args[0], args[1], args[2]);\n      }\n    } else if (typeof args[0] === 'object') {\n      let orderedRoutes = Object.keys(args[0]).sort(compareUrlDepth);\n\n      orderedRoutes.forEach(route => {\n        this.on(route, args[0][route]);\n      });\n    }\n    return this;\n  },\n  off: function (handler) {\n    if (this._defaultHandler !== null && handler === this._defaultHandler.handler) {\n      this._defaultHandler = null;\n    } else if (this._notFoundHandler !== null && handler === this._notFoundHandler.handler) {\n      this._notFoundHandler = null;\n    }\n    this._routes = this._routes.reduce((result, r) => {\n      if (r.handler !== handler) result.push(r);\n      return result;\n    }, []);\n    return this;\n  },\n  notFound: function (handler, hooks) {\n    this._notFoundHandler = { handler, hooks: hooks };\n    return this;\n  },\n  resolve: function (current) {\n    var handler, m;\n    var url = (current || this._cLoc()).replace(this._getRoot(), '');\n\n    if (this._useHash) {\n      url = url.replace(new RegExp('^\\/' + this._hash), '/');\n    }\n\n    let GETParameters = extractGETParameters(current || this._cLoc());\n    let onlyURL = getOnlyURL(url, this._useHash, this._hash);\n\n    if (this._paused) return false;\n\n    if (\n      this._lastRouteResolved &&\n        onlyURL === this._lastRouteResolved.url &&\n        GETParameters === this._lastRouteResolved.query\n    ) {\n      if (this._lastRouteResolved.hooks && this._lastRouteResolved.hooks.already) {\n        this._lastRouteResolved.hooks.already(this._lastRouteResolved.params);\n      }\n      return false;\n    }\n\n    m = match(onlyURL, this._routes);\n\n    if (m) {\n      this._callLeave();\n      this._lastRouteResolved = {\n        url: onlyURL,\n        query: GETParameters,\n        hooks: m.route.hooks,\n        params: m.params,\n        name: m.route.name\n      };\n      handler = m.route.handler;\n      manageHooks(() => {\n        manageHooks(() => {\n          m.route.route instanceof RegExp ?\n            handler(...(m.match.slice(1, m.match.length))) :\n            handler(m.params, GETParameters);\n        }, m.route.hooks, m.params, this._genericHooks);\n      }, this._genericHooks, m.params);\n      return m;\n    } else if (this._defaultHandler && (\n      onlyURL === '' ||\n        onlyURL === '/' ||\n        onlyURL === this._hash ||\n        isHashedRoot(onlyURL, this._useHash, this._hash)\n    )) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._defaultHandler.hooks };\n          this._defaultHandler.handler(GETParameters);\n        }, this._defaultHandler.hooks);\n      }, this._genericHooks);\n      return true;\n    } else if (this._notFoundHandler) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._notFoundHandler.hooks };\n          this._notFoundHandler.handler(GETParameters);\n        }, this._notFoundHandler.hooks);\n      }, this._genericHooks);\n    }\n    return false;\n  },\n  destroy: function () {\n    this._routes = [];\n    this._destroyed = true;\n    this._lastRouteResolved = null;\n    this._genericHooks = null;\n    clearTimeout(this._listeningInterval);\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('popstate', this._onLocationChange);\n      window.removeEventListener('hashchange', this._onLocationChange);\n    }\n  },\n  updatePageLinks: function () {\n    var self = this;\n\n    if (typeof document === 'undefined') return;\n\n    this._findLinks().forEach(link => {\n      if (!link.hasListenerAttached) {\n        link.addEventListener('click', function (e) {\n          if((e.ctrlKey || e.metaKey) && e.target.tagName.toLowerCase() == 'a'){ return false; }\n          var location = self.getLinkPath(link);\n\n          if (!self._destroyed) {\n            e.preventDefault();\n            self.navigate(location.replace(/\\/+$/, '').replace(/^\\/+/, '/'));\n          }\n        });\n        link.hasListenerAttached = true;\n      }\n    });\n  },\n  generate: function (name, data = {}) {\n    var result = this._routes.reduce((result, route) => {\n      var key;\n\n      if (route.name === name) {\n        result = route.route;\n        for (key in data) {\n          result = result.toString().replace(':' + key, data[key]);\n        }\n      }\n      return result;\n    }, '');\n\n    return this._useHash ? this._hash + result : result;\n  },\n  link: function (path) {\n    return this._getRoot() + path;\n  },\n  pause: function (status = true) {\n    this._paused = status;\n    if (status) {\n      this._historyAPIUpdateMethod = 'replaceState';\n    } else {\n      this._historyAPIUpdateMethod = 'pushState';\n    }\n  },\n  resume: function () {\n    this.pause(false);\n  },\n  historyAPIUpdateMethod: function (value) {\n    if (typeof value === 'undefined') return this._historyAPIUpdateMethod;\n    this._historyAPIUpdateMethod = value;\n    return value;\n  },\n  disableIfAPINotAvailable: function () {\n    if (!isPushStateAvailable()) {\n      this.destroy();\n    }\n  },\n  lastRouteResolved() {\n    return this._lastRouteResolved;\n  },\n  getLinkPath(link) {\n    return link.getAttribute('href');\n  },\n  hooks(hooks) {\n    this._genericHooks = hooks;\n  },\n  _add: function (route, handler = null, hooks = null) {\n    if (typeof route === 'string') {\n      route = encodeURI(route);\n    }\n    this._routes.push(\n      typeof handler === 'object' ? {\n        route,\n        handler: handler.uses,\n        name: handler.as,\n        hooks: hooks || handler.hooks\n      } : { route, handler, hooks: hooks }\n    );\n\n    return this._add;\n  },\n  _getRoot: function () {\n    if (this.root !== null) return this.root;\n    this.root = root(this._cLoc().split('?')[0], this._routes);\n    return this.root;\n  },\n  _listen: function () {\n    if (this._usePushState) {\n      window.addEventListener('popstate', this._onLocationChange);\n    } else if (isHashChangeAPIAvailable()) {\n      window.addEventListener('hashchange', this._onLocationChange);\n    } else {\n      let cached = this._cLoc(), current, check;\n\n      check = () => {\n        current = this._cLoc();\n        if (cached !== current) {\n          cached = current;\n          this.resolve();\n        }\n        this._listeningInterval = setTimeout(check, 200);\n      };\n      check();\n    }\n  },\n  _cLoc: function () {\n    if (typeof window !== 'undefined') {\n      if (typeof window.__NAVIGO_WINDOW_LOCATION_MOCK__ !== 'undefined') {\n        return window.__NAVIGO_WINDOW_LOCATION_MOCK__;\n      }\n      return clean(window.location.href);\n    }\n    return '';\n  },\n  _findLinks: function () {\n    return [].slice.call(document.querySelectorAll('[data-navigo]'));\n  },\n  _onLocationChange: function () {\n    this.resolve();\n  },\n  _callLeave() {\n    const lastRouteResolved = this._lastRouteResolved;\n\n    if (lastRouteResolved && lastRouteResolved.hooks && lastRouteResolved.hooks.leave) {\n      lastRouteResolved.hooks.leave(lastRouteResolved.params);\n    }\n  }\n};\n\nNavigo.PARAMETER_REGEXP = /([:*])(\\w+)/g;\nNavigo.WILDCARD_REGEXP = /\\*/g;\nNavigo.REPLACE_VARIABLE_REGEXP = '([^\\/]+)';\nNavigo.REPLACE_WILDCARD = '(?:.*)';\nNavigo.FOLLOWED_BY_SLASH_REGEXP = '(?:\\/$|$)';\nNavigo.MATCH_REGEXP_FLAGS = '';\n\nexport default Navigo;\n","import { mount, subscribe, RunAction } from \"../../src/jetix\";\nimport Navigo from \"navigo\";\nimport app, { RootActions } from \"./app\";\n\nconst router = new Navigo();\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => mount({\n    app,\n    props: {},\n\n    // Manually invoking an action is an error, so `runRootAction` is provided\n    // by `mount` for wiring up events to root actions (e.g. routing)\n    init: (runRootAction: RunAction<RootActions>) => {\n\n        const about = () => runRootAction(\"SetPage\", { page: \"aboutPage\" });\n        const counter = () => runRootAction(\"SetPage\", { page: \"counterPage\" });\n\n        router.on({ about, counter, \"*\": counter }).resolve();\n\n        subscribe(\"patch\", () => router.updatePageLinks());\n    }\n}));\n","import { component, html } from \"../../src/jetix\";\nimport counterPage from \"./pages/counterPage\";\nimport aboutPage from \"./pages/aboutPage\";\nimport \"./router\";\nconst { div } = html;\n\ntype Props = {};\n\nexport type State = {\n    theme: Theme;\n    page?: Page;\n};\n\nexport type RootActions = {\n    \"SetPage\": { page: Page };\n    \"SetTheme\": { theme: Theme };\n};\n\nexport type RootTasks = {\n    \"SetDocTitle\": { title: string };\n}\n\nexport type Page = \"counterPage\" | \"aboutPage\";\n\nexport type Theme = \"default\" | \"dark\";\n\n\nexport default component<Props, State, RootActions, RootTasks>((action, task) => ({\n\n    state: () => ({\n        theme: \"default\",\n        page: null\n    }),\n\n    // Root actions, import into any component\n    actions: {\n        SetPage: ({ page }, props, state) => {\n            return {\n                state: {\n                    ...state,\n                    page\n                }\n            };\n        },\n        SetTheme: ({ theme }, props, state) => {\n            return {\n                state: {\n                    ...state,\n                    theme\n                }\n            };\n        }\n    },\n\n    // Root tasks, import into any component\n    tasks: {\n        // Demonstrates a task that is only an effect\n        SetDocTitle: ({ title }) => ({\n            perform: () => {\n                document.title = title;\n            }\n        })\n    },\n\n    view(id, props, state) {\n        return div(`#${id}.page.${state.theme}`, [\n            (() => {\n                switch (state.page) {\n                    case \"aboutPage\":\n                        return aboutPage(\"#about-page\", { onSetTheme: action(\"SetTheme\") });\n\n                    case \"counterPage\":\n                        return counterPage(\"#counter-page\", { onSetTheme: action(\"SetTheme\") });\n                }\n            })()\n        ]);\n    }\n\n}));\n"]}